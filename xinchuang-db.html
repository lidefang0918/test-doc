<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>国产信创数据库（DM 达梦、大金、OpenGauss） | ruoyi-vue-pro 开发指南</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            border-bottom: 1px solid #eee;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        .source-url {
            color: #666;
            font-size: 14px;
            margin-top: 10px;
        }
        .content-wrapper {
            line-height: 1.8;
        }
        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px 0;
        }
        pre {
            background: #f6f8fa;
            padding: 16px;
            border-radius: 6px;
            overflow-x: auto;
        }
        code {
            background: #f6f8fa;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>国产信创数据库（DM 达梦、大金、OpenGauss） | ruoyi-vue-pro 开发指南</h1>
        <div class="source-url">原始链接: <a href="https://doc.iocoder.cn/xinchuang-db/">https://doc.iocoder.cn/xinchuang-db/</a></div>
    </div>
    <div class="content-wrapper">
        <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABKFJREFUSA3tVl1oFVcQnrMbrak3QUgkya1akpJYcrUtIqW1JvFBE9LiQ5v6JmJpolbMg32rVrhgoYK0QiMY6i9Y6EMaW5D+xFJaTYItIuK2Kr3+BJNwkxBj05sQY3b3nM6cs2dv9t7NT/vQJw/sndk5M/PNzJkzewGerP+pAmy+ON8lLzUJgA8ZYxYIYZmGYRnctDaWvJJAmTtfP1pvXsBCCPP8QFcCaRkZYACgDZFO4stNIcBCajEOlmmC9XpJ9bAGCaPaPmzPl32dvLSVu3BWCTQs0XQQ6g0DYgwLIoAZbBCdW/i+781o1VVlm/410mw4h06Y7bIPHNyWDyL4FHkX03Q8SrzNhZTZriieckWt7cL6MM85YcLpsi/7O9/iXFT6MswI0DmmpkSaJ0qLxFIm3+i1THHB3zmBH3PYx9CcykcLOeQVVa7QtdxTgQgEleX2AjHYfwA+2ddV77ruGoJUbhGDI09YSNXyMpUt5ylOzxgbUmtOp7NmbNt8v3arjTBfYELmLUV+M+nSawNNAUqpT3ClJWg5I3BLT+cGW/DXNGCa6tx1aakCGEigArTn4TDIPdrXXYKCZNrHLMCOEPvHBlLQ99s9eHB7EB6NTki73CVPQ2F5MSx/uRQixfmq7rK0wYD8w8E905bnPDfwoWs/rfv93NWN/ZfvwsLIU7A09gxECyISeGJkHAau98L97tuw7NXnoPyNF8FcYGLGKsOs0mN3OEyec9esGW/ZEl945dTP34wlR2FZVQWU1q0Cw8Tr7p+hgLLNL0FPxx/Q35mA8aEUrH6nCgwEl0tn7wUiZYJnNRh6DK4UH/k0lfyrsBKdPVv/AriGIQcEDQZ65LBAGe2Rzui9Ybjz7XUppz1/uKBbyVPGkN3ZAeC6hr0x7Nr38N5+EqkoOm17xpoqR9ohQF55ERSvr4Dkr3chNfC3DMzGJlNBElW8w9nsGQvhNGIzDkXzCg8cLK951xHsFBlTJspJNi3ZFIMF2AeDV3q8DNOB+YHi6QTrChDIWDBRi5U5f+ZMfJLu3ccrqxtdxk4SKH336LFxSmkqefwU5T8fhdSdQf9IVKD6aNiwI/hnmcAZ91isYMJIaCUCx9W098+LgruikeTqzqqxKPUwqJyCPJiyemVVZBOijDGjD38Os0jOiSPL1z3SPjXNANbiNPXAdzTfukjjuknNBbyz3nwgTd3AVFqUJ5hpHlq9MveLnWwttUfoygBmvVjuikxND3znrhsELnZk7k+OjIGxeNEkomyLVta0xxn+HZhjBc4YZ/AFjHjz9u3xRZl2BN4aq9nFwWh16IrQ1aHHEd3j1+4/dB9OtH4e29A2H1DyHQRmOSfQZ1Fy7MHBTGB6J/Djq6p3OxyO2cB+4Car7v/o3GXgfAkj23+x9ID1Teoamo/SXcbvSf2PX7Vc8DdCmE1vN9di+32P9/5YR3vLnhCVGUWBjEkr3yh4H8v9CzmsbdhzOKzsJKM90iFdaTMjRPhGVsakRvOaRidljo6H6G7j+ctrJpsP+4COhDIl0La2+FS4+5mlocBaXY5QnGZysIBYoeSsl5qQzrSj/cgNrfuEzlWBfwA+EjrZyWUvpAAAAABJRU5ErkJggg==">国产信创数据库（DM 达梦、大金、OpenGauss）<!----></h1>  <div class="theme-vdoing-content content__default"><h2 id="_1-dm-达梦数据库"><a href="#_1-dm-%E8%BE%BE%E6%A2%A6%E6%95%B0%E6%8D%AE%E5%BA%93" class="header-anchor">#</a> 1. DM 达梦数据库</h2> <h3 id="_1-1-如何安装"><a href="#_1-1-%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85" class="header-anchor">#</a> 1.1 如何安装？</h3> <p>可以使用 Windows 或 Docker 等多种方式。</p> <p>注意，目前我们使用的是 DM 8.0 的版本。</p> <h4 id="_1-1-windows-方式"><a href="#_1-1-windows-%E6%96%B9%E5%BC%8F" class="header-anchor">#</a> 1.1 Windows 方式</h4> <p>参考 <a href="https://eco.dameng.com/document/dm/zh-cn/start/install-dm-windows-prepare.html" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>① 访问 <a href="https://eco.dameng.com/download/" target="_blank" rel="noopener noreferrer">https://eco.dameng.com/download/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 地址，点击“开发版 (X86平台)”选项，进行下载。</p> <p>② 傻瓜式安装、数据库实例化，一路下去就好，不用修改任何参数。</p> <h4 id="_1-2-docker-方式"><a href="#_1-2-docker-%E6%96%B9%E5%BC%8F" class="header-anchor">#</a> 1.2 Docker 方式</h4> <p>参考 <a href="https://eco.dameng.com/document/dm/zh-cn/start/dm-install-docker.html" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>① 访问 <a href="https://eco.dameng.com/download/" target="_blank" rel="noopener noreferrer">https://eco.dameng.com/download/<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 地址，点击“Docker 镜像”选项，进行下载。</p> <p>② 执行如下脚本，启动 Docker 服务：</p> <div class="language-Bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> load <span class="token parameter variable">-i</span> dm8_20240715_x86_rh6_rq_single.tar

<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">5236</span>:5236 <span class="token punctuation">\</span>
    <span class="token parameter variable">--restart</span><span class="token operator">=</span>unless-stopped <span class="token punctuation">\</span>
    <span class="token parameter variable">--name</span> dm8_test <span class="token punctuation">\</span>
    <span class="token parameter variable">--privileged</span><span class="token operator">=</span>true <span class="token punctuation">\</span>
    <span class="token parameter variable">-e</span> <span class="token assign-left variable">PAGE_SIZE</span><span class="token operator">=</span><span class="token number">16</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-e</span> <span class="token assign-left variable">LD_LIBRARY_PATH</span><span class="token operator">=</span>/opt/dmdbms/binn <span class="token punctuation">\</span>
    <span class="token parameter variable">-e</span> <span class="token assign-left variable">EXTENT_SIZE</span><span class="token operator">=</span><span class="token number">32</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-e</span> <span class="token assign-left variable">BLANK_PAD_MODE</span><span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-e</span> <span class="token assign-left variable">LOG_SIZE</span><span class="token operator">=</span><span class="token number">1024</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-e</span> <span class="token assign-left variable">UNICODE_FLAG</span><span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-e</span> <span class="token assign-left variable">LENGTH_IN_CHAR</span><span class="token operator">=</span><span class="token number">1</span> <span class="token punctuation">\</span>
    <span class="token parameter variable">-e</span> <span class="token assign-left variable">INSTANCE_NAME</span><span class="token operator">=</span>dm8_test <span class="token punctuation">\</span>
    <span class="token parameter variable">-v</span> <span class="token environment constant">$PWD</span>/dm8_test:/opt/dmdbms/data <span class="token punctuation">\</span>
    dm8_single:dm8_20240715_rev232765_x86_rh6_64
</code></pre></div><p>备注：可以尝试使用大小写不敏感配置 <code>-e CASE_SENSITIVE=N</code>。需要停止并删除容器后，删除 <code>dm8_test</code> 目录，重新<code>docker run</code>。</p> <h3 id="_1-2-如何导入数据"><a href="#_1-2-%E5%A6%82%E4%BD%95%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE" class="header-anchor">#</a> 1.2 如何导入数据？</h3> <p>使用 <a href="https://eco.dameng.com/document/dm/zh-cn/start/tool-dm-manager.html" target="_blank" rel="noopener noreferrer">DM 管理工具<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 进行数据的导入。如果你不是很了解，已可以看看文档：</p> <ul><li><a href="https://www.modb.pro/db/432934" target="_blank" rel="noopener noreferrer">《达梦数据库（二）DM Manager 管理工具》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://blog.51cto.com/u_16213594/7289559" target="_blank" rel="noopener noreferrer">《达梦数据库导入 SQL》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>具体步骤如下：</p> <p>① 使用 DM 管理工具，新建一个名字为 <code>RUOYI_VUE_PRO</code> 的 schema 模式。如下图所示：</p> <p><img src="/img/%E5%90%8E%E7%AB%AF%E6%89%8B%E5%86%8C/%E4%BF%A1%E5%88%9B%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%96%B0%E5%BB%BA%E6%A8%A1%E5%BC%8F.png" alt="新建模式"></p> <div class="custom-block tip"><p class="custom-block-title">为什么名字是 RUOYI_VUE_PRO 呢？</p> <p>因为稍后使用的 <code>sql/dm/ruoyi-vue-pro-dm8.sql</code> 文件，使用的 schema 是它噢。后续跑通了，你可以按照自己的修改。</p></div> <p>② 点击 DM 管理工具的 [执行 -&gt; 执行脚本] 菜单，选中项目中的 <code>sql/dm/ruoyi-vue-pro-dm8.sql</code> 文件，之后点击 [绿色箭头] 进行执行即可。</p> <div class="custom-block tip"><p class="custom-block-title">友情提示：如果你不想 DM 管理工具，也可以使用其它工具：</p> <ul><li><a href="https://blog.csdn.net/Downton97/article/details/108470881" target="_blank" rel="noopener noreferrer">《DataGrip 连接达梦数据库》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://blog.csdn.net/qq_45363655/article/details/135456705" target="_blank" rel="noopener noreferrer">《DBeaver 连接达梦数据库 》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <h3 id="_1-3-如何启动项目"><a href="#_1-3-%E5%A6%82%E4%BD%95%E5%90%AF%E5%8A%A8%E9%A1%B9%E7%9B%AE" class="header-anchor">#</a> 1.3 如何启动项目？</h3> <p>① 修改 <code>yudao-spring-boot-starter-mybatis</code> 模块的 <code>pom.xml</code> 文件，将 DM 依赖的 <code>DmJdbcDriver18</code> 的 <code>optional</code> 移除（注意，需要使用 IDEA 刷新下 Maven 的依赖）。如下图所示：</p> <p><img src="/img/%E5%90%8E%E7%AB%AF%E6%89%8B%E5%86%8C/%E4%BF%A1%E5%88%9B%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BE%9D%E8%B5%96.png" alt="数据库依赖"></p> <p>② 修改 <code>application-local.yaml</code> 配置文件，将数据库的 <code>url</code>、<code>username</code>、<code>password</code> 修改为 DM 数据库。例如说：</p> <p><img src="/img/%E5%90%8E%E7%AB%AF%E6%89%8B%E5%86%8C/%E4%BF%A1%E5%88%9B%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E9%85%8D%E7%BD%AE.png" alt="数据库连接配置"></p> <p>③ 后续启动项目，就可以了。</p> <div class="custom-block tip"><p class="custom-block-title">疑问：启动报“无效的模式名[RUOYI_VUE_PRO]”错误，怎么解决？</p> <p>可以把上图的 <code>url</code> 中的 <code>?schema=RUOYI_VUE_PRO</code> 部分去掉后，再重启下，试试看。</p></div> <h3 id="_1-4-常见问题"><a href="#_1-4-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98" class="header-anchor">#</a> 1.4 常见问题？</h3> <h4 id="_1-4-1-大小写敏感"><a href="#_1-4-1-%E5%A4%A7%E5%B0%8F%E5%86%99%E6%95%8F%E6%84%9F" class="header-anchor">#</a> 1.4.1 大小写敏感？</h4> <p>参考 <a href="https://eco.dameng.com/community/article/df11811a02de8e923c2e57ef6597bc62" target="_blank" rel="noopener noreferrer">《详解 DM 数据库字符串大小写敏感》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 文档</p> <h4 id="_1-4-2-quartz-定时任务"><a href="#_1-4-2-quartz-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1" class="header-anchor">#</a> 1.4.2 Quartz 定时任务？</h4> <p>Quartz 定时任务，已经适配，直接参考 <a href="/job">《定时任务》</a> 使用。</p> <p>实现思路非常简单：</p> <ul><li>Quartz 初始化使用 <a href="https://github.com/quartznet/quartznet/blob/main/database/tables/tables_oracle.sql" target="_blank" rel="noopener noreferrer"><code>tables_oracle</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 脚本，去掉前面的 <code>delete</code> 和 <code>drop</code> 部分</li> <li><code>spring.quartz.properties.org.quartz.jobStore.driverDelegateClass</code> 使用 <code>org.quartz.impl.jdbcjobstore.StdJDBCDelegate</code> 类。不过网上也有人说使用 <code>org.quartz.impl.jdbcjobstore.oracle.OracleDelegate</code> 类，我暂时没跑成功</li></ul> <h4 id="_1-4-3-flowable-工作流"><a href="#_1-4-3-flowable-%E5%B7%A5%E4%BD%9C%E6%B5%81" class="header-anchor">#</a> 1.4.3 Flowable 工作流？</h4> <p>Flowable 工作流的适配，可参考 <a href="/bpm/dameng/">《工作流（达梦适配）》</a>。</p> <p>短期内暂时没时间适配，欢迎你搞了之后，pull request 贡献给项目，从而帮助到更多人！</p> <h2 id="_2-kingbasees-大金数据库"><a href="#_2-kingbasees-%E5%A4%A7%E9%87%91%E6%95%B0%E6%8D%AE%E5%BA%93" class="header-anchor">#</a> 2. KingbaseES 大金数据库</h2> <h3 id="_1-1-如何安装-2"><a href="#_1-1-%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85-2" class="header-anchor">#</a> 1.1 如何安装？</h3> <p>可以使用 Windows 或 Docker 等多种方式。</p> <p>注意，目前我们使用的是 V008R006C008B0020 的版本。</p> <h4 id="_1-1-windows-方式-2"><a href="#_1-1-windows-%E6%96%B9%E5%BC%8F-2" class="header-anchor">#</a> 1.1 Windows 方式</h4> <p>参考 <a href="https://help.kingbase.com.cn/v8/install-updata/install-windows/index.html" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <h4 id="_1-2-docker-方式-2"><a href="#_1-2-docker-%E6%96%B9%E5%BC%8F-2" class="header-anchor">#</a> 1.2 Docker 方式</h4> <p>参考 <a href="https://help.kingbase.com.cn/v8/install-updata/install-docker/index.html" target="_blank" rel="noopener noreferrer">官方文档<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>① 访问 <a href="https://www.kingbase.com.cn/xzzx/index.htm" target="_blank" rel="noopener noreferrer">https://www.kingbase.com.cn/xzzx/index.htm<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 地址，点击左侧的“软件版本 -&gt; 数据库” 菜单，再点击“docker镜像”选项，进行下载：</p> <ul><li><a href="https://kingbase.oss-cn-beijing.aliyuncs.com/KESV8R3/V009R001C001B0025-%E5%AE%89%E8%A3%85%E5%8C%85-docker/x86_64/kdb_x86_64_V009R001C001B0025.tar" target="_blank" rel="noopener noreferrer">x86_64 版本<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 【Windows 选择这个】</li> <li><a href="https://kingbase.oss-cn-beijing.aliyuncs.com/KESV8R3/V009R001C001B0025-%E5%AE%89%E8%A3%85%E5%8C%85-docker/aarch64/kdb_aarch64_V009R001C001B0025.tar" target="_blank" rel="noopener noreferrer">aarch64 版本<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 【MacBook Apple Silicon 选择这个】</li></ul> <p>② 执行如下脚本，启动 Docker 服务：</p> <div class="language-Bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> load <span class="token parameter variable">-i</span> kdb_x86_64_V009R001C001B0025.tar

<span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token parameter variable">-p</span> <span class="token number">54321</span>:54321 <span class="token punctuation">\</span>
    <span class="token parameter variable">--restart</span><span class="token operator">=</span>unless-stopped <span class="token punctuation">\</span>
    <span class="token parameter variable">--name</span> kingbase_test <span class="token punctuation">\</span>
    <span class="token parameter variable">--privileged</span><span class="token operator">=</span>true <span class="token punctuation">\</span>
    <span class="token parameter variable">-e</span> <span class="token assign-left variable">NEED_START</span><span class="token operator">=</span>yes  <span class="token punctuation">\</span>
    <span class="token parameter variable">-e</span> <span class="token assign-left variable">DB_USER</span><span class="token operator">=</span>root  <span class="token punctuation">\</span>
    <span class="token parameter variable">-e</span> <span class="token assign-left variable">DB_PASSWORD</span><span class="token operator">=</span><span class="token number">123456</span>  <span class="token punctuation">\</span>
    <span class="token parameter variable">-e</span> <span class="token assign-left variable">DB_MODE</span><span class="token operator">=</span>oracle  <span class="token punctuation">\</span>
    kingbase_v009r001c001b0025_single_x86:v1
</code></pre></div><h3 id="_2-2-如何导入数据"><a href="#_2-2-%E5%A6%82%E4%BD%95%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE" class="header-anchor">#</a> 2.2 如何导入数据？</h3> <p>① 使用 Navicat 工具，选择 PostgreSQL 数据库，即可连接。如下图所示：</p> <p><img src="/img/%E5%90%8E%E7%AB%AF%E6%89%8B%E5%86%8C/%E4%BF%A1%E5%88%9B%E6%95%B0%E6%8D%AE%E5%BA%93/%E8%BF%9E%E6%8E%A5%E5%A4%A7%E9%87%91%E6%95%B0%E6%8D%AE%E5%BA%93.png" alt="连接大金数据库"></p> <p>② 选择 <code>test</code> 数据库的 <code>public</code> 模式，右键选择“运行 SQL 文件”，选择项目中的 <code>sql/kingbasees/ruoyi-vue-pro.sql</code> 文件，之后点击 [开始] 按钮。</p> <h3 id="_2-3-如何启动项目"><a href="#_2-3-%E5%A6%82%E4%BD%95%E5%90%AF%E5%8A%A8%E9%A1%B9%E7%9B%AE" class="header-anchor">#</a> 2.3 如何启动项目？</h3> <p>① 修改 <code>yudao-spring-boot-starter-mybatis</code> 模块的 <code>pom.xml</code> 文件，将 KingbaseES 依赖的 <code>kingbasees-jdbc</code> 的 <code>optional</code> 移除（注意，需要使用 IDEA 刷新下 Maven 的依赖）。如下图所示：</p> <p><img src="/img/%E5%90%8E%E7%AB%AF%E6%89%8B%E5%86%8C/%E4%BF%A1%E5%88%9B%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BE%9D%E8%B5%96.png" alt="数据库依赖"></p> <p>② 修改 <code>application-local.yaml</code> 配置文件，将数据库的 <code>url</code>、<code>username</code>、<code>password</code> 修改为 KingbaseES 数据库。例如说：</p> <p><img src="/img/%E5%90%8E%E7%AB%AF%E6%89%8B%E5%86%8C/%E4%BF%A1%E5%88%9B%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E9%85%8D%E7%BD%AE-%E5%A4%A7%E9%87%91.png" alt="数据库连接配置"></p> <p>③ 后续启动项目，就可以了。</p> <h3 id="_2-4-常见问题"><a href="#_2-4-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98" class="header-anchor">#</a> 2.4 常见问题？</h3> <h4 id="_2-4-1-quartz-定时任务"><a href="#_2-4-1-quartz-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1" class="header-anchor">#</a> 2.4.1 Quartz 定时任务？</h4> <p>Quartz 定时任务，已经适配，直接参考 <a href="/job">《定时任务》</a> 使用。</p> <p>实现思路非常简单：</p> <ul><li>Quartz 初始化使用 <a href="https://github.com/quartznet/quartznet/blob/main/database/tables/tables_postgres.sql" target="_blank" rel="noopener noreferrer"><code>tables_postgres</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 脚本</li> <li><code>spring.quartz.properties.org.quartz.jobStore.driverDelegateClass</code> 使用 <code>org.quartz.impl.jdbcjobstore.StdJDBCDelegate</code> 类。</li></ul> <h4 id="_2-4-2-flowable-工作流"><a href="#_2-4-2-flowable-%E5%B7%A5%E4%BD%9C%E6%B5%81" class="header-anchor">#</a> 2.4.2 Flowable 工作流？</h4> <p>Flowable 工作流的适配，可参考如下文章：</p> <ul><li><a href="https://blog.csdn.net/LuoGuoHua_Xin/article/details/129898193" target="_blank" rel="noopener noreferrer">《flowable 6.7.2 在 spring boot 项目中兼容人大金仓》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://www.cnblogs.com/montaro/p/17956719" target="_blank" rel="noopener noreferrer">《flowable 适配人大金仓 Kingbase 数据库》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li> <li><a href="https://juejin.cn/post/7349791638111354890" target="_blank" rel="noopener noreferrer">《【Kingbase8 数据库】flowable兼容人大金仓 Kingbase8 过程》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p>短期内暂时没时间适配，欢迎你搞了之后，pull request 贡献给项目，从而帮助到更多人！</p> <h2 id="_3-华为-opengauss"><a href="#_3-%E5%8D%8E%E4%B8%BA-opengauss" class="header-anchor">#</a> 3. 华为 OpenGauss</h2> <h3 id="_3-1-如何安装"><a href="#_3-1-%E5%A6%82%E4%BD%95%E5%AE%89%E8%A3%85" class="header-anchor">#</a> 3.1 如何安装？</h3> <p>可以使用 Linux 或 Docker 等多种方式。</p> <p>注意，目前我们使用的是 openGauss 5.0.0 的版本。</p> <div class="custom-block tip"><p class="custom-block-title">友情提示：openGauss 不支持 Windows 系统，所以请使用 Linux 或 Docker 等方式。</p></div> <h4 id="_3-1-docker-方式"><a href="#_3-1-docker-%E6%96%B9%E5%BC%8F" class="header-anchor">#</a> 3.1 Docker 方式</h4> <p>执行如下脚本，启动 Docker 服务：</p> <div class="language-Bash extra-class"><pre class="language-bash"><code><span class="token function">docker</span> run <span class="token parameter variable">-d</span> <span class="token punctuation">\</span>
  <span class="token parameter variable">--name</span> opengauss-test <span class="token punctuation">\</span>
  <span class="token parameter variable">--restart</span> unless-stopped <span class="token punctuation">\</span>
  <span class="token parameter variable">-e</span> <span class="token assign-left variable">GS_USERNAME</span><span class="token operator">=</span>root <span class="token punctuation">\</span>
  <span class="token parameter variable">-e</span> <span class="token assign-left variable">GS_PASSWORD</span><span class="token operator">=</span>Yudao@2024 <span class="token punctuation">\</span>
  <span class="token parameter variable">-e</span> <span class="token assign-left variable">LD_LIBRARY_PATH</span><span class="token operator">=</span>/usr/local/opengauss/lib:/usr/lib <span class="token punctuation">\</span>
  <span class="token parameter variable">-p</span> <span class="token number">5432</span>:5432 <span class="token punctuation">\</span>
  opengauss/opengauss:5.0.0
</code></pre></div><h3 id="_3-2-如何导入数据"><a href="#_3-2-%E5%A6%82%E4%BD%95%E5%AF%BC%E5%85%A5%E6%95%B0%E6%8D%AE" class="header-anchor">#</a> 3.2 如何导入数据？</h3> <p>① 参考 <a href="https://blog.itdevwu.com/post/1632/" target="_blank" rel="noopener noreferrer">《用 JetBrains DataGrip 连接 Huawei openGauss》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 文档，连接 openGauss 数据库。</p> <div class="custom-block tip"><p class="custom-block-title">疑问：为什么不使用 Navicat 进行连接？</p> <p>因为 Navicat 不支持 openGauss 数据库，而使用 PostgreSQL 进行连接，会出现 “none of the server's SASL authentication mechanisms are supported” 报错。</p></div> <p>② 选择 <code>postgres</code> 数据库，右键选择“SQL Scripts -&gt; Run SQL Script...”，选择项目中的 <code>sql/opengauss/ruoyi-vue-pro.sql</code> 文件，之后执行。</p> <h3 id="_3-3-如何启动项目"><a href="#_3-3-%E5%A6%82%E4%BD%95%E5%90%AF%E5%8A%A8%E9%A1%B9%E7%9B%AE" class="header-anchor">#</a> 3.3 如何启动项目？</h3> <p>① 修改 <code>yudao-spring-boot-starter-mybatis</code> 模块的 <code>pom.xml</code> 文件，将 openGauss 依赖的 <code>opengauss</code> 的 <code>optional</code> 移除（注意，需要使用 IDEA 刷新下 Maven 的依赖）。如下图所示：</p> <p><img src="/img/%E5%90%8E%E7%AB%AF%E6%89%8B%E5%86%8C/%E4%BF%A1%E5%88%9B%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E4%BE%9D%E8%B5%96.png" alt="数据库依赖"></p> <p>② 修改 <code>application-local.yaml</code> 配置文件，将数据库的 <code>url</code>、<code>username</code>、<code>password</code> 修改为 openGauss 数据库。例如说：</p> <p><img src="/img/%E5%90%8E%E7%AB%AF%E6%89%8B%E5%86%8C/%E4%BF%A1%E5%88%9B%E6%95%B0%E6%8D%AE%E5%BA%93/%E6%95%B0%E6%8D%AE%E5%BA%93%E8%BF%9E%E6%8E%A5%E9%85%8D%E7%BD%AE-%E5%8D%8E%E4%B8%BA.png" alt="数据库连接配置"></p> <p>::: 疑问：为什么 jdbc 使用 postgres 数据库连接？</p> <p>因为 openGauss 是兼容 PostgreSQL 的，所以 JDBC 驱动使用的是 <code>org.postgresql.Driver</code>。这样，后续和 Quartz 定时任务、Flowable 工作流等等，都是可以兼容的。
:::</p> <p>③ 后续启动项目，就可以了。</p> <h3 id="_3-4-常见问题"><a href="#_3-4-%E5%B8%B8%E8%A7%81%E9%97%AE%E9%A2%98" class="header-anchor">#</a> 3.4 常见问题？</h3> <h4 id="_3-4-1-quartz-定时任务"><a href="#_3-4-1-quartz-%E5%AE%9A%E6%97%B6%E4%BB%BB%E5%8A%A1" class="header-anchor">#</a> 3.4.1 Quartz 定时任务？</h4> <p>Quartz 定时任务，已经适配，直接参考 <a href="/job">《定时任务》</a> 使用。</p> <p>实现思路非常简单（因为 jdbc 使用 postgres 数据库连接）：</p> <ul><li>Quartz 初始化使用 <a href="https://github.com/quartznet/quartznet/blob/main/database/tables/tables_postgres.sql" target="_blank" rel="noopener noreferrer"><code>tables_postgres</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 脚本</li></ul> <h4 id="_3-4-2-flowable-工作流"><a href="#_3-4-2-flowable-%E5%B7%A5%E4%BD%9C%E6%B5%81" class="header-anchor">#</a> 3.4.2 Flowable 工作流？</h4> <p>Flowable 工作流，已经适配，直接参考 <a href="/bpm/">《工作流》</a> 使用。</p> <p>也是因为 jdbc 使用 postgres 数据库连接，所以无需去兼容。</p></div></div>
    </div>
</body>
</html>