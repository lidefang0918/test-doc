<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruoyiæ–‡æ¡£æµè§ˆå™¨</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            height: 100vh;
            overflow: hidden;
            background: #f5f5f5;
        }

        .container {
            display: flex;
            height: 100vh;
        }

        /* å·¦ä¾§èœå•æ  */
        .sidebar {
            width: 350px;
            background: white;
            border-right: 1px solid #e8e8e8;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        .sidebar-header {
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            text-align: center;
        }

        .sidebar-header h1 {
            font-size: 1.5em;
            margin-bottom: 8px;
        }

        .sidebar-header p {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .search-box {
            margin: 15px;
            padding: 10px 15px;
            border: 1px solid #ddd;
            border-radius: 20px;
            outline: none;
            font-size: 14px;
            transition: border-color 0.3s;
        }

        .search-box:focus {
            border-color: #667eea;
        }

        .menu-list {
            flex: 1;
            overflow-y: auto;
            padding: 10px 0;
        }

        .menu-category {
            margin-bottom: 2px;
        }

        .category-header {
            padding: 12px 20px;
            background: #f8f9fa;
            color: #333;
            font-size: 13px;
            font-weight: 600;
            cursor: pointer;
            border-bottom: 1px solid #e8e8e8;
            display: flex;
            align-items: center;
            justify-content: space-between;
            transition: background-color 0.3s;
        }

        .category-header:hover {
            background: #e9ecef;
        }

        .category-header .expand-icon {
            font-size: 12px;
            transition: transform 0.3s;
        }

        .category-header.expanded .expand-icon {
            transform: rotate(90deg);
        }

        .category-items {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.3s ease;
        }

        .category-items.expanded {
            max-height: 2000px;
        }

        .menu-item {
            padding: 10px 20px;
            cursor: pointer;
            border-left: 3px solid transparent;
            transition: all 0.3s;
            font-size: 13px;
            line-height: 1.4;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .menu-item:hover {
            background: #f8f9fa;
            border-left-color: #667eea;
        }

        .menu-item.active {
            background: #e8f2ff;
            border-left-color: #667eea;
            color: #667eea;
            font-weight: 500;
        }

        .menu-item.disabled {
            color: #999;
            cursor: not-allowed;
        }

        .menu-item.disabled:hover {
            background: transparent;
            border-left-color: transparent;
        }

        .menu-item .item-title {
            flex: 1;
        }

        .menu-item .item-status {
            font-size: 11px;
            color: #999;
            margin-left: 8px;
        }

        .menu-item .item-path {
            font-size: 11px;
            color: #999;
            margin-left: 8px;
        }

        .menu-item.hidden {
            display: none;
        }

        /* å³ä¾§å†…å®¹åŒºåŸŸ */
        .content-area {
            flex: 1;
            display: flex;
            flex-direction: column;
            overflow: hidden;
            position: relative;
        }

        /* ç›®å½•å¯¼èˆª */
        .toc-nav {
            position: fixed;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            width: 250px;
            max-height: 70vh;
            background: white;
            border: 1px solid #e8e8e8;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            overflow: hidden;
            z-index: 100;
            display: none;
        }

        .toc-nav.show {
            display: block;
        }

        .toc-header {
            padding: 12px 16px;
            background: #f8f9fa;
            border-bottom: 1px solid #e8e8e8;
            font-size: 14px;
            font-weight: 600;
            color: #333;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .toc-toggle {
            background: none;
            border: none;
            font-size: 16px;
            cursor: pointer;
            padding: 2px;
            border-radius: 3px;
            color: #666;
        }

        .toc-toggle:hover {
            background: #e9ecef;
        }

        .toc-content {
            max-height: calc(70vh - 45px);
            overflow-y: auto;
            padding: 8px 0;
        }

        .toc-item {
            display: block;
            padding: 6px 16px;
            color: #666;
            text-decoration: none;
            font-size: 13px;
            line-height: 1.4;
            border-left: 3px solid transparent;
            transition: all 0.3s;
            cursor: pointer;
        }

        .toc-item:hover {
            background: #f8f9fa;
            color: #333;
        }

        .toc-item.active {
            background: #e8f2ff;
            color: #667eea;
            border-left-color: #667eea;
            font-weight: 500;
        }

        .toc-item.level-1 {
            padding-left: 16px;
            font-weight: 500;
        }

        .toc-item.level-2 {
            padding-left: 28px;
        }

        .toc-item.level-3 {
            padding-left: 40px;
        }

        .toc-item.level-4 {
            padding-left: 52px;
        }

        .toc-item.level-5 {
            padding-left: 64px;
        }

        .toc-item.level-6 {
            padding-left: 76px;
        }

        .content-header {
            padding: 15px 25px;
            background: white;
            border-bottom: 1px solid #e8e8e8;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }

        .content-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #333;
        }

        .content-meta {
            font-size: 0.9em;
            color: #666;
        }

        .content-body {
            flex: 1;
            overflow-y: auto;
            padding: 25px;
            background: white;
            display: flex;
            justify-content: center;
            padding-right: 300px; /* ä¸ºç›®å½•å¯¼èˆªç•™å‡ºç©ºé—´ */
        }

        .content-wrapper {
            max-width: 800px;
            width: 100%;
            padding: 0 20px;
        }

        .welcome-screen {
            text-align: center;
            padding: 80px 20px;
            color: #666;
            max-width: 800px;
            margin: 0 auto;
        }

        .welcome-screen h2 {
            font-size: 2em;
            margin-bottom: 15px;
            color: #333;
        }

        .welcome-screen p {
            font-size: 1.1em;
            line-height: 1.6;
        }

        .loading {
            text-align: center;
            padding: 50px;
            color: #666;
            max-width: 800px;
            margin: 0 auto;
        }

        .error {
            text-align: center;
            padding: 50px;
            color: #e74c3c;
            max-width: 800px;
            margin: 0 auto;
        }

        /* å†…å®¹æ ·å¼ */
        .content-body h1,
        .content-body h2,
        .content-body h3,
        .content-body h4,
        .content-body h5,
        .content-body h6 {
            margin: 20px 0 15px 0;
            color: #333;
        }

        .content-body h1 {
            font-size: 2em;
            border-bottom: 2px solid #667eea;
            padding-bottom: 10px;
        }

        .content-body h2 {
            font-size: 1.5em;
            color: #667eea;
        }

        .content-body p {
            line-height: 1.8;
            margin-bottom: 15px;
            color: #555;
        }

        .content-body img {
            max-width: 100%;
            height: auto;
            border-radius: 8px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
            margin: 15px 0;
            cursor: pointer;
            transition: transform 0.3s ease;
        }

        .content-body img:hover {
            transform: scale(1.02);
        }

        /* å›¾ç‰‡æ”¾å¤§æ¨¡æ€æ¡† */
        .image-modal {
            display: none;
            position: fixed;
            z-index: 2000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            cursor: pointer;
        }

        .image-modal img {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            max-width: 95%;
            max-height: 95%;
            border-radius: 8px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.5);
            cursor: default;
        }

        .image-modal .close-btn {
            position: absolute;
            top: 20px;
            right: 30px;
            color: white;
            font-size: 40px;
            font-weight: bold;
            cursor: pointer;
            z-index: 2001;
        }

        .image-modal .close-btn:hover {
            color: #ccc;
        }

        .content-body a {
            color: #667eea;
            text-decoration: none;
        }

        .content-body a:hover {
            text-decoration: underline;
        }

        .content-body table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }

        .content-body th,
        .content-body td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e8e8e8;
        }

        .content-body th {
            background: #f8f9fa;
            font-weight: 600;
            color: #333;
        }

        .content-body pre {
            background: #f8f9fa;
            padding: 15px;
            border-radius: 5px;
            overflow-x: auto;
            margin: 15px 0;
            border-left: 4px solid #667eea;
        }

        .content-body code {
            background: #f8f9fa;
            padding: 2px 6px;
            border-radius: 3px;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
            font-size: 0.9em;
        }

        .content-body blockquote {
            border-left: 4px solid #667eea;
            padding-left: 20px;
            margin: 20px 0;
            color: #666;
            font-style: italic;
        }

                 /* å“åº”å¼è®¾è®¡ */
         @media (max-width: 1200px) {
             .content-body {
                 padding-right: 25px; /* åœ¨è¾ƒå°å±å¹•ä¸Šç§»é™¤ç›®å½•å¯¼èˆªçš„ç©ºé—´ */
             }

             .toc-nav {
                 display: none !important; /* åœ¨è¾ƒå°å±å¹•ä¸Šéšè—ç›®å½•å¯¼èˆª */
             }
         }

         @media (max-width: 768px) {
             .sidebar {
                 width: 100%;
                 position: fixed;
                 left: -100%;
                 z-index: 1000;
                 transition: left 0.3s;
             }

             .sidebar.show {
                 left: 0;
             }

             .content-area {
                 width: 100%;
             }

             .content-wrapper {
                 max-width: 100%;
                 padding: 0 10px;
             }

             .mobile-menu-btn {
                 display: block;
                 position: fixed;
                 top: 15px;
                 left: 15px;
                 z-index: 1001;
                 background: #667eea;
                 color: white;
                 border: none;
                 padding: 10px;
                 border-radius: 5px;
                 cursor: pointer;
             }
         }

        .mobile-menu-btn {
            display: none;
        }

        /* æ»šåŠ¨æ¡æ ·å¼ */
        .menu-list::-webkit-scrollbar,
        .content-body::-webkit-scrollbar {
            width: 6px;
        }

        .menu-list::-webkit-scrollbar-track,
        .content-body::-webkit-scrollbar-track {
            background: #f1f1f1;
        }

        .menu-list::-webkit-scrollbar-thumb,
        .content-body::-webkit-scrollbar-thumb {
            background: #c1c1c1;
            border-radius: 3px;
        }

        .menu-list::-webkit-scrollbar-thumb:hover,
        .content-body::-webkit-scrollbar-thumb:hover {
            background: #a8a8a8;
        }
        .content-wrapper .header {
            display: none;
        }
        .content-wrapper .right-menu-wrapper {
            display: none;
        }
    </style>
</head>
<body>
    <button class="mobile-menu-btn" onclick="toggleMobileMenu()">â˜°</button>

    <div class="container">
        <!-- å·¦ä¾§èœå•æ  -->
        <div class="sidebar" id="sidebar">
            <div class="sidebar-header">
                <h1>ğŸ“š Ruoyiæ–‡æ¡£</h1>
                <p>ç¦»çº¿æ–‡æ¡£æµè§ˆå™¨</p>
            </div>

            <input type="text" class="search-box" placeholder="æœç´¢æ–‡æ¡£..." id="searchBox">

            <div class="menu-list" id="menuList">
                <!-- èœå•é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>

        <!-- å³ä¾§å†…å®¹åŒºåŸŸ -->
        <div class="content-area">
            <div class="content-header">
                <div class="content-title" id="contentTitle">æ¬¢è¿ä½¿ç”¨</div>
                <div class="content-meta" id="contentMeta"></div>
            </div>

            <div class="content-body" id="contentBody">
                <div class="content-wrapper">
                    <div class="welcome-screen">
                        <h2>ğŸš€ æ¬¢è¿ä½¿ç”¨ Ruoyi æ–‡æ¡£æµè§ˆå™¨</h2>
                        <p>è¯·ä»å·¦ä¾§èœå•é€‰æ‹©è¦æŸ¥çœ‹çš„æ–‡æ¡£</p>
                        <p>æœ¬åœ°ç¦»çº¿æ–‡æ¡£ï¼ŒåŒ…å«å®Œæ•´çš„å¼€å‘æŒ‡å—å’Œæ•™ç¨‹</p>
                    </div>
                </div>
            </div>
        </div>

        <!-- ç›®å½•å¯¼èˆª -->
        <div class="toc-nav" id="tocNav">
            <div class="toc-header">
                <span>ğŸ“‹ ç›®å½•</span>
                <button class="toc-toggle" onclick="toggleTOC()">âˆ’</button>
            </div>
            <div class="toc-content" id="tocContent">
                <!-- ç›®å½•é¡¹å°†é€šè¿‡JavaScriptåŠ¨æ€ç”Ÿæˆ -->
            </div>
        </div>
    </div>

    <!-- å›¾ç‰‡æ”¾å¤§æ¨¡æ€æ¡† -->
    <div class="image-modal" id="imageModal">
        <span class="close-btn" onclick="closeImageModal()">&times;</span>
        <img id="modalImage" src="" alt="">
    </div>

    <script>
        // å®Œæ•´çš„èœå•ç»“æ„ - æŒ‰åŸç½‘ç«™å±‚çº§ç»„ç»‡
        const menuStructure = [
            {
                title: "èŒæ–°å¿…è¯»",
                items: [
                    { title: "ç®€ä»‹", path: "/intro/", file: "intro.html" },
                    { title: "äº¤æµç¾¤", path: "/qun/", file: "qun.html" },
                    { title: "è§†é¢‘æ•™ç¨‹", path: "/video/", file: "video.html" },
                    { title: "åŠŸèƒ½åˆ—è¡¨", path: "/feature/", file: "feature.html" },
                    { title: "å¿«é€Ÿå¯åŠ¨ï¼ˆåç«¯é¡¹ç›®ï¼‰", path: "/quick-start/", file: "quick-start.html" },
                    { title: "å¿«é€Ÿå¯åŠ¨ï¼ˆå‰ç«¯é¡¹ç›®ï¼‰", path: "/quick-start-front/", file: "quick-start-front.html" },
                    { title: "æ¥å£æ–‡æ¡£", path: "/api-doc/", file: "api-doc.html" },
                    { title: "æŠ€æœ¯é€‰å‹", path: "/technology/", file: "technology.html" },
                    { title: "é¡¹ç›®ç»“æ„", path: "/project-intro/", file: "project-intro.html" },
                    { title: "ä»£ç çƒ­åŠ è½½", path: "/dev-hot-swap/", file: "dev-hot-swap.html" },
                    { title: "ä¸€é”®æ”¹åŒ…", path: "/project-rename/", file: "project-rename.html" },
                    { title: "è¿ç§»æ¨¡å—ï¼ˆé€‚åˆæ–°é¡¹ç›®ï¼‰", path: "/migrate-module/", file: "migrate-module.html" },
                    { title: "åˆ é™¤åŠŸèƒ½ï¼ˆä»¥ç§Ÿæˆ·ä¸ºä¾‹ï¼‰", path: "/delete-code/", file: "delete-code.html" },
                    { title: "è¡¨ç»“æ„å˜æ›´ï¼ˆç‰ˆæœ¬å‡çº§ï¼‰", path: "/sql-update/", file: "sql-update.html" },
                    { title: "å›½äº§ä¿¡åˆ›æ•°æ®åº“ï¼ˆDM è¾¾æ¢¦ã€å¤§é‡‘ã€OpenGaussï¼‰", path: "/xinchuang-db/", file: "xinchuang-db.html" },
                    { title: "å¦‚ä½•å»é™¤ Redis ç¼“å­˜", path: "/remove-redis/", file: "remove-redis.html" },
                    { title: "å†…ç½‘ç©¿é€", path: "/natapp/", file: "natapp.html" },
                    { title: "é¢è¯•é¢˜ã€ç®€å†æ¨¡ç‰ˆã€ç®€å†ä¼˜åŒ–", path: "/interview/", file: "interview.html" },
                    { title: "é¡¹ç›®å¤–åŒ…", path: "/waibao/", file: "waibao.html" }
                ]
            },
            {
                title: "åç«¯æ‰‹å†Œ",
                items: [
                    { title: "æ–°å»ºæ¨¡å—", path: "/module-new/", file: "module-new.html" },
                    { title: "ä»£ç ç”Ÿæˆã€å•è¡¨ã€‘ï¼ˆæ–°å¢åŠŸèƒ½ï¼‰", path: "/new-feature/", file: "new-feature.html" },
                    { title: "ä»£ç ç”Ÿæˆã€ä¸»å­è¡¨ã€‘", path: "/new-feature/master-sub/", file: "new-feature/master-sub.html" },
                    { title: "ä»£ç ç”Ÿæˆï¼ˆæ ‘è¡¨ï¼‰", path: "/new-feature/tree/", file: "new-feature/tree.html" },
                    { title: "åŠŸèƒ½æƒé™", path: "/resource-permission/", file: "resource-permission.html" },
                    { title: "æ•°æ®æƒé™", path: "/data-permission/", file: "data-permission.html" },
                    { title: "ç”¨æˆ·ä½“ç³»", path: "/user-center/", file: "user-center.html" },
                    { title: "ä¸‰æ–¹ç™»å½•", path: "/social-user/", file: "social-user.html" },
                    { title: "OAuth 2.0ï¼ˆSSO å•ç‚¹ç™»å½•)", path: "/oauth2/", file: "oauth2.html" },
                    { title: "SaaS å¤šç§Ÿæˆ·ã€å­—æ®µéš”ç¦»ã€‘", path: "/saas-tenant/", file: "saas-tenant.html" },
                    { title: "SaaS å¤šç§Ÿæˆ·ã€æ•°æ®åº“éš”ç¦»ã€‘", path: "/saas-tenant/dynamic/", file: "saas-tenant/dynamic.html" },
                    { title: "WebSocket å®æ—¶é€šä¿¡", path: "/websocket/", file: "websocket.html" },
                    { title: "å¼‚å¸¸å¤„ç†ï¼ˆé”™è¯¯ç ï¼‰", path: "/exception/", file: "exception.html" },
                    { title: "å‚æ•°æ ¡éªŒã€æ—¶é—´ä¼ å‚", path: "/validator/", file: "validator.html" },
                    { title: "åˆ†é¡µå®ç°", path: "/page-feature/", file: "page-feature.html" },
                    { title: "VO å¯¹è±¡è½¬æ¢ã€æ•°æ®ç¿»è¯‘", path: "/vo/", file: "vo.html" },
                    { title: "æ–‡ä»¶å­˜å‚¨ï¼ˆä¸Šä¼ ä¸‹è½½ï¼‰", path: "/file/", file: "file.html" },
                    { title: "Excel å¯¼å…¥å¯¼å‡º", path: "/excel-import-and-export/", file: "excel-import-and-export.html" },
                    { title: "æ“ä½œæ—¥å¿—ã€è®¿é—®æ—¥å¿—ã€å¼‚å¸¸æ—¥å¿—", path: "/system-log/", file: "system-log.html" },
                    { title: "MyBatis æ•°æ®åº“", path: "/mybatis/", file: "mybatis.html" },
                    { title: "MyBatis è”è¡¨&åˆ†é¡µæŸ¥è¯¢", path: "/mybatis-pro/", file: "mybatis-pro.html" },
                    { title: "å¤šæ•°æ®æºï¼ˆè¯»å†™åˆ†ç¦»ï¼‰ã€äº‹åŠ¡", path: "/dynamic-datasource/", file: "dynamic-datasource.html" },
                    { title: "Redis ç¼“å­˜", path: "/redis-cache/", file: "redis-cache.html" },
                    { title: "æœ¬åœ°ç¼“å­˜", path: "/local-cache/", file: "local-cache.html" },
                    { title: "å¼‚æ­¥ä»»åŠ¡", path: "/async-task/", file: "async-task.html" },
                    { title: "åˆ†å¸ƒå¼é”", path: "/distributed-lock/", file: "distributed-lock.html" },
                    { title: "å¹‚ç­‰æ€§ï¼ˆé˜²é‡å¤æäº¤ï¼‰", path: "/idempotent/", file: "idempotent.html" },
                    { title: "è¯·æ±‚é™æµï¼ˆRateLimiterï¼‰", path: "/rate-limiter/", file: "rate-limiter.html" },
                    { title: "HTTP æ¥å£ç­¾åï¼ˆé˜²ç¯¡æ”¹ï¼‰", path: "/http-sign/", file: "http-sign.html" },
                    { title: "å•å…ƒæµ‹è¯•", path: "/unit-test/", file: "unit-test.html" },
                    { title: "éªŒè¯ç ", path: "/captcha/", file: "captcha.html" },
                    { title: "å·¥å…·ç±» Util", path: "/util/", file: "util.html" },
                    { title: "é…ç½®ç®¡ç†", path: "/config-center/", file: "config-center.html" },
                    { title: "æ•°æ®åº“æ–‡æ¡£", path: "/db-doc/", file: "db-doc.html" }
                ]
            },
            {
                title: "ä¸­é—´ä»¶æ‰‹å†Œ",
                items: [
                    { title: "å®šæ—¶ä»»åŠ¡", path: "/job/", file: "job.html" },
                    { title: "æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆå†…å­˜ï¼‰", path: "/message-queue/event/", file: "message-queue/event.html" },
                    { title: "æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆRedisï¼‰", path: "/message-queue/redis/", file: "message-queue/redis.html" },
                    { title: "æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆRocketMQï¼‰", path: "/message-queue/rocketmq/", file: "message-queue/rocketmq.html" },
                    { title: "æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆRabbitMQï¼‰", path: "/message-queue/rabbitmq/", file: "message-queue/rabbitmq.html" },
                    { title: "æ¶ˆæ¯é˜Ÿåˆ—ï¼ˆKafkaï¼‰", path: "/message-queue/kafka/", file: "message-queue/kafka.html" },
                    { title: "é™æµç†”æ–­", path: "/server-protection/", file: "server-protection.html" }
                ]
            },
            {
                title: "å·¥ä½œæµæ‰‹å†Œ",
                items: [
                    { title: "å·¥ä½œæµæ¼”ç¤º", path: "/bpm-preview/", file: "bpm-preview.html" },
                    { title: "åŠŸèƒ½å¼€å¯", path: "/bpm/", file: "bpm.html" },
                    { title: "å·¥ä½œæµï¼ˆè¾¾æ¢¦é€‚é…ï¼‰", path: "/bpm/dameng/", file: "bpm/dameng.html" },
                    { title: "å®¡æ‰¹æ¥å…¥ï¼ˆæµç¨‹è¡¨å•ï¼‰", path: "/bpm/use-bpm-form/", file: "bpm/use-bpm-form.html" },
                    { title: "å®¡æ‰¹æ¥å…¥ï¼ˆä¸šåŠ¡è¡¨å•ï¼‰", path: "/bpm/use-business-form/", file: "bpm/use-business-form.html" },
                    { title: "æµç¨‹è®¾è®¡å™¨ï¼ˆBPMNï¼‰", path: "/bpm/model-designer-bpmn/", file: "bpm/model-designer-bpmn.html" },
                    { title: "æµç¨‹è®¾è®¡å™¨ï¼ˆé’‰é’‰ã€é£ä¹¦ï¼‰", path: "/bpm/model-designer-dingding/", file: "bpm/model-designer-dingding.html" },
                    { title: "é€‰æ‹©å®¡æ‰¹äººã€å‘èµ·äººè‡ªé€‰", path: "/bpm/assignee/", file: "bpm/assignee.html" },
                    { title: "ä¼šç­¾ã€æˆ–ç­¾ã€ä¾æ¬¡å®¡æ‰¹", path: "/bpm/multi-instance/", file: "bpm/multi-instance.html" },
                    { title: "æµç¨‹å‘èµ·ã€å–æ¶ˆã€é‡æ–°å‘èµ·", path: "/bpm/process-instance/", file: "bpm/process-instance.html" },
                    { title: "å®¡æ‰¹é€šè¿‡ã€ä¸é€šè¿‡ã€é©³å›", path: "/bpm/task-todo-done/", file: "bpm/task-todo-done.html" },
                    { title: "å®¡æ‰¹åŠ ç­¾ã€å‡ç­¾", path: "/bpm/sign/", file: "bpm/sign.html" },
                    { title: "å®¡æ‰¹è½¬åŠã€å§”æ´¾ã€æŠ„é€", path: "/bpm/task-delegation-and-cc/", file: "bpm/task-delegation-and-cc.html" },
                    { title: "æ‰§è¡Œç›‘å¬å™¨ã€ä»»åŠ¡ç›‘å¬å™¨", path: "/bpm/listener/", file: "bpm/listener.html" },
                    { title: "æµç¨‹è¡¨è¾¾å¼", path: "/bpm/expression/", file: "bpm/expression.html" },
                    { title: "æµç¨‹å®¡æ‰¹é€šçŸ¥", path: "/bpm/message/", file: "bpm/message.html" }
                ]
            },
            {
                title: "å¤§å±æ‰‹å†Œ",
                items: [
                    { title: "æŠ¥è¡¨è®¾è®¡å™¨", path: "/report/", file: "report.html" },
                    { title: "å¤§å±è®¾è®¡å™¨", path: "/report/screen/", file: "report/screen.html" }
                ]
            },
            {
                title: "æ”¯ä»˜æ‰‹å†Œ",
                items: [
                    { title: "åŠŸèƒ½å¼€å¯", path: "/pay/build/", file: "pay/build.html" },
                    { title: "æ”¯ä»˜å®æ”¯ä»˜æ¥å…¥", path: "/pay/alipay-pay-demo/", file: "pay/alipay-pay-demo.html" },
                    { title: "å¾®ä¿¡å…¬ä¼—å·æ”¯ä»˜æ¥å…¥", path: "/pay/wx-pub-pay-demo/", file: "pay/wx-pub-pay-demo.html" },
                    { title: "å¾®ä¿¡å°ç¨‹åºæ”¯ä»˜æ¥å…¥", path: "/pay/wx-lite-pay-demo/", file: "pay/wx-lite-pay-demo.html" },
                    { title: "æ”¯ä»˜å®ã€å¾®ä¿¡é€€æ¬¾æ¥å…¥", path: "/pay/refund-demo/", file: "pay/refund-demo.html" },
                    { title: "æ”¯ä»˜å®è½¬è´¦æ¥å…¥", path: "/pay/alipay-transfer-demo/", file: "pay/alipay-transfer-demo.html" },
                    { title: "å¾®ä¿¡è½¬è´¦æ¥å…¥", path: "/pay/wx-transfer-demo/", file: "pay/wx-transfer-demo.html" },
                    { title: "é’±åŒ…å……å€¼ã€æ”¯ä»˜ã€é€€æ¬¾", path: "/pay/wallet/", file: "pay/wallet.html" },
                    { title: "æ¨¡æ‹Ÿæ”¯ä»˜ã€é€€æ¬¾", path: "/pay/mock/", file: "pay/mock.html" }
                ]
            },
            {
                title: "ä¼šå‘˜æ‰‹å†Œ",
                items: [
                    { title: "åŠŸèƒ½å¼€å¯", path: "/member/build/", file: "member/build.html" },
                    { title: "å¾®ä¿¡å…¬ä¼—å·ç™»å½•", path: "/member/weixin-mp-login/", file: "member/weixin-mp-login.html" },
                    { title: "å¾®ä¿¡å°ç¨‹åºç™»å½•", path: "/member/weixin-lite-login/", file: "member/weixin-lite-login.html" },
                    { title: "å¾®ä¿¡å°ç¨‹åºè®¢é˜…æ¶ˆæ¯", path: "/member/weixin-lite-subscribe-message/", file: "member/weixin-lite-subscribe-message.html" },
                    { title: "å¾®ä¿¡å°ç¨‹åºç ", path: "/member/weixin-lite-qrcode/", file: "member/weixin-lite-qrcode.html" },
                    { title: "ä¼šå‘˜ç”¨æˆ·ã€æ ‡ç­¾ã€åˆ†ç»„", path: "/member/user/", file: "member/user.html" },
                    { title: "ä¼šå‘˜ç­‰çº§ã€ç§¯åˆ†ã€ç­¾åˆ°", path: "/member/level/", file: "member/level.html" }
                ]
            },
            {
                title: "å•†åŸæ‰‹å†Œ",
                items: [
                    { title: "å•†åŸæ¼”ç¤º", path: "/mall-preview/", file: "mall-preview.html" },
                    { title: "åŠŸèƒ½å¼€å¯", path: "/mall/build/", file: "mall/build.html" },
                    { title: "å•†åŸè£…ä¿®", path: "/mall/diy/", file: "mall/diy.html" },
                    { title: "åœ¨çº¿å®¢æœ", path: "/mall/kefu/", file: "mall/kefu.html" },
                    { title: "ã€å•†å“ã€‘å•†å“åˆ†ç±»", path: "/mall/product-category/", file: "mall/product-category.html" },
                    { title: "ã€å•†å“ã€‘å•†å“å±æ€§", path: "/mall/product-property/", file: "mall/product-property.html" },
                    { title: "ã€å•†å“ã€‘å•†å“ SPU ä¸ SKU", path: "/mall/product-spu-sku/", file: "mall/product-spu-sku.html" },
                    { title: "ã€å•†å“ã€‘å•†å“è¯„ä»·", path: "/mall/product-comment/", file: "mall/product-comment.html" },
                    { title: "ã€äº¤æ˜“ã€‘è´­ç‰©è½¦", path: "/mall/trade-cart/", file: "mall/trade-cart.html" },
                    { title: "ã€äº¤æ˜“ã€‘äº¤æ˜“è®¢å•", path: "/mall/trade-order/", file: "mall/trade-order.html" },
                    { title: "ã€äº¤æ˜“ã€‘å”®åé€€æ¬¾", path: "/mall/trade-aftersale/", file: "mall/trade-aftersale.html" },
                    { title: "ã€äº¤æ˜“ã€‘å¿«é€’å‘è´§", path: "/mall/trade-delivery-express/", file: "mall/trade-delivery-express.html" },
                    { title: "ã€äº¤æ˜“ã€‘é—¨åº—è‡ªæ", path: "/mall/trade-delivery-pickup/", file: "mall/trade-delivery-pickup.html" },
                    { title: "ã€äº¤æ˜“ã€‘åˆ†é”€è¿”ä½£", path: "/mall/trade-brokerage/", file: "mall/trade-brokerage.html" },
                    { title: "ã€è¥é”€ã€‘ä¼˜æƒ åŠµ", path: "/mall/promotion-coupon/", file: "mall/promotion-coupon.html" },
                    { title: "ã€è¥é”€ã€‘ç§¯åˆ†å•†åŸ", path: "/mall/point-activity/", file: "mall/point-activity.html" },
                    { title: "ã€è¥é”€ã€‘æ‹¼å›¢æ´»åŠ¨", path: "/mall/promotion-combination/", file: "mall/promotion-combination.html" },
                    { title: "ã€è¥é”€ã€‘ç§’æ€æ´»åŠ¨", path: "/mall/promotion-seckill/", file: "mall/promotion-seckill.html" },
                    { title: "ã€è¥é”€ã€‘ç ä»·æ´»åŠ¨", path: "/mall/promotion-bargain/", file: "mall/promotion-bargain.html" },
                    { title: "ã€è¥é”€ã€‘æ»¡å‡é€æ´»åŠ¨", path: "/mall/promotion-record/", file: "mall/promotion-record.html" },
                    { title: "ã€è¥é”€ã€‘é™æ—¶æŠ˜æ‰£", path: "/mall/promotion-discount/", file: "mall/promotion-discount.html" },
                    { title: "ã€è¥é”€ã€‘å†…å®¹ç®¡ç†", path: "/mall/promotion-content/", file: "mall/promotion-content.html" },
                    { title: "ã€ç»Ÿè®¡ã€‘ä¼šå‘˜ã€å•†å“ã€äº¤æ˜“ç»Ÿè®¡", path: "/mall/statistics/", file: "mall/statistics.html" }
                ]
            },
            {
                title: "ERPæ‰‹å†Œ",
                items: [
                    { title: "ERP æ¼”ç¤º", path: "/erp-preview/", file: "erp-preview.html" },
                    { title: "åŠŸèƒ½å¼€å¯", path: "/erp/build/", file: "erp/build.html" },
                    { title: "ã€äº§å“ã€‘äº§å“ä¿¡æ¯ã€åˆ†ç±»ã€å•ä½", path: "/erp/product/", file: "erp/product.html" },
                    { title: "ã€åº“å­˜ã€‘äº§å“åº“å­˜ã€åº“å­˜æ˜ç»†", path: "/erp/stock/", file: "erp/stock.html" },
                    { title: "ã€åº“å­˜ã€‘å…¶å®ƒå…¥åº“ã€å…¶å®ƒå‡ºåº“", path: "/erp/stock-in-out/", file: "erp/stock-in-out.html" },
                    { title: "ã€åº“å­˜ã€‘åº“å­˜è°ƒæ‹¨ã€åº“å­˜ç›˜ç‚¹", path: "/erp/stock-move-check/", file: "erp/stock-move-check.html" },
                    { title: "ã€é‡‡è´­ã€‘é‡‡è´­è®¢å•ã€å…¥åº“ã€é€€è´§", path: "/erp/purchase/", file: "erp/purchase.html" },
                    { title: "ã€é”€å”®ã€‘é”€å”®è®¢å•ã€å‡ºåº“ã€é€€è´§", path: "/erp/sale/", file: "erp/sale.html" },
                    { title: "ã€è´¢åŠ¡ã€‘é‡‡è´­ä»˜æ¬¾ã€é”€å”®æ”¶æ¬¾", path: "/sale/finance-payment-receipt/", file: "sale/finance-payment-receipt.html" }
                ]
            },
            {
                title: "CRMæ‰‹å†Œ",
                items: [
                    { title: "CRM æ¼”ç¤º", path: "/crm-preview/", file: "crm-preview.html" },
                    { title: "åŠŸèƒ½å¼€å¯", path: "/crm/build/", file: "crm/build.html" },
                    { title: "ã€çº¿ç´¢ã€‘çº¿ç´¢ç®¡ç†", path: "/crm/clue/", file: "crm/clue.html" },
                    { title: "ã€å®¢æˆ·ã€‘å®¢æˆ·ç®¡ç†ã€å…¬æµ·å®¢æˆ·", path: "/crm/customer/", file: "crm/customer.html" },
                    { title: "ã€å•†æœºã€‘å•†æœºç®¡ç†ã€å•†æœºçŠ¶æ€", path: "/crm/business/", file: "crm/business.html" },
                    { title: "ã€åˆåŒã€‘åˆåŒç®¡ç†ã€åˆåŒæé†’", path: "/crm/contract/", file: "crm/contract.html" },
                    { title: "ã€å›æ¬¾ã€‘å›æ¬¾ç®¡ç†ã€å›æ¬¾è®¡åˆ’", path: "/crm/receivable/", file: "crm/receivable.html" },
                    { title: "ã€äº§å“ã€‘äº§å“ç®¡ç†ã€äº§å“åˆ†ç±»", path: "/crm/product/", file: "crm/product.html" },
                    { title: "ã€é€šç”¨ã€‘æ•°æ®æƒé™", path: "/crm/permission/", file: "crm/permission.html" },
                    { title: "ã€é€šç”¨ã€‘è·Ÿè¿›è®°å½•ã€å¾…åŠäº‹é¡¹", path: "/crm/follow-up/", file: "crm/follow-up.html" }
                ]
            },
            {
                title: "AIå¤§æ¨¡å‹æ‰‹å†Œ",
                items: [
                    { title: "AI å¤§æ¨¡å‹æ¼”ç¤º", path: "/ai-preview/", file: "ai-preview.html" },
                    { title: "åŠŸèƒ½å¼€å¯", path: "/ai/build/", file: "ai/build.html" },
                    { title: "AI èŠå¤©å¯¹è¯", path: "/ai/chat/", file: "ai/chat.html" },
                    { title: "AI ç»˜ç”»åˆ›ä½œ", path: "/ai/image/", file: "ai/image.html" },
                    { title: "AI çŸ¥è¯†åº“", path: "/ai/knowledge/", file: "ai/knowledge.html" },
                    { title: "AI éŸ³ä¹åˆ›ä½œ", path: "/ai/music/", file: "ai/music.html" },
                    { title: "AI å†™ä½œåŠ©æ‰‹", path: "/ai/write/", file: "ai/write.html" },
                    { title: "AI æ€ç»´å¯¼å›¾", path: "/ai/mindmap/", file: "ai/mindmap.html" },
                    { title: "AI å·¥å…·ï¼ˆfunction callingï¼‰", path: "/ai/tool/", file: "ai/tool.html" },
                    { title: "AI å·¥ä½œæµ", path: "/ai/workflow/", file: "ai/workflow.html" },
                    { title: "Dify å·¥ä½œæµ", path: "/ai/dify/", file: "ai/dify.html" },
                    { title: "FastGPT å·¥ä½œæµ", path: "/ai/fastgpt/", file: "ai/fastgpt.html" },
                    { title: "Coze æ™ºèƒ½ä½“", path: "/ai/coze/", file: "ai/coze.html" },
                    { title: "ã€æ¨¡å‹æ¥å…¥ã€‘OpenAI", path: "/ai/openai/", file: "ai/openai.html" },
                    { title: "ã€æ¨¡å‹æ¥å…¥ã€‘é€šä¹‰åƒé—®", path: "/ai/tongyi/", file: "ai/tongyi.html" },
                    { title: "ã€æ¨¡å‹æ¥å…¥ã€‘DeepSeek", path: "/ai/deep-seek/", file: "ai/deep-seek.html" },
                    { title: "ã€æ¨¡å‹æ¥å…¥ã€‘å­—èŠ‚è±†åŒ…", path: "/ai/doubao/", file: "ai/doubao.html" },
                    { title: "ã€æ¨¡å‹æ¥å…¥ã€‘è…¾è®¯æ··å…ƒ", path: "/ai/hunyuan/", file: "ai/hunyuan.html" },
                    { title: "ã€æ¨¡å‹æ¥å…¥ã€‘ç¡…åŸºæµåŠ¨", path: "/ai/siliconflow/", file: "ai/siliconflow.html" },
                    { title: "ã€æ¨¡å‹æ¥å…¥ã€‘MiniMax", path: "/ai/minimax/", file: "ai/minimax.html" },
                    { title: "ã€æ¨¡å‹æ¥å…¥ã€‘æœˆä¹‹æš—ç­", path: "/ai/moonshot/", file: "ai/moonshot.html" },
                    { title: "ã€æ¨¡å‹æ¥å…¥ã€‘ç™¾å·æ™ºèƒ½", path: "/ai/baichuan/", file: "ai/baichuan.html" },
                    { title: "ã€æ¨¡å‹æ¥å…¥ã€‘æ–‡å¿ƒä¸€è¨€", path: "/ai/yiyan/", file: "ai/yiyan.html" },
                    { title: "ã€æ¨¡å‹æ¥å…¥ã€‘LLAMA", path: "/ai/llama/", file: "ai/llama.html" },
                    { title: "ã€æ¨¡å‹æ¥å…¥ã€‘æ™ºè°± GLM", path: "/ai/glm/", file: "ai/glm.html" },
                    { title: "ã€æ¨¡å‹æ¥å…¥ã€‘è®¯é£æ˜Ÿç«", path: "/ai/xinghuo/", file: "ai/xinghuo.html" },
                    { title: "ã€æ¨¡å‹æ¥å…¥ã€‘å¾®è½¯ OpenAI", path: "/ai/azure-openai/", file: "ai/azure-openai.html" },
                    { title: "ã€æ¨¡å‹æ¥å…¥ã€‘è°·æ­Œ Gemini", path: "/ai/gemini/", file: "ai/gemini.html" },
                    { title: "ã€æ¨¡å‹æ¥å…¥ã€‘Stable Diffusion", path: "/ai/stable-diffusion/", file: "ai/stable-diffusion.html" },
                    { title: "ã€æ¨¡å‹æ¥å…¥ã€‘Midjourney", path: "/ai/midjourney/", file: "ai/midjourney.html" },
                    { title: "ã€æ¨¡å‹æ¥å…¥ã€‘Suno", path: "/ai/suno/", file: "ai/suno.html" }
                ]
            },
            {
                title: "IoTç‰©è”ç½‘æ‰‹å†Œ",
                items: [
                    { title: "åŠŸèƒ½å¼€å¯", path: "/iot/build/", file: "iot/build.html" }
                ]
            },
            {
                title: "å…¬ä¼—å·æ‰‹å†Œ",
                items: [
                    { title: "åŠŸèƒ½å¼€å¯", path: "/mp/build/", file: "mp/build.html" },
                    { title: "å…¬ä¼—å·æ¥å…¥", path: "/mp/account/", file: "mp/account.html" },
                    { title: "å…¬ä¼—å·ç²‰ä¸", path: "/mp/user/", file: "mp/user.html" },
                    { title: "å…¬ä¼—å·æ ‡ç­¾", path: "/mp/tag/", file: "mp/tag.html" },
                    { title: "å…¬ä¼—å·æ¶ˆæ¯", path: "/mp/message/", file: "mp/message.html" },
                    { title: "è‡ªåŠ¨å›å¤", path: "/mp/auto-reply/", file: "mp/auto-reply.html" },
                    { title: "å…¬ä¼—å·èœå•", path: "/mp/menu/", file: "mp/menu.html" },
                    { title: "å…¬ä¼—å·ç´ æ", path: "/mp/material/", file: "mp/material.html" },
                    { title: "å…¬ä¼—å·å›¾æ–‡", path: "/mp/article/", file: "mp/article.html" },
                    { title: "å…¬ä¼—å·ç»Ÿè®¡", path: "/mp/statistics/", file: "mp/statistics.html" }
                ]
            },
            {
                title: "ç³»ç»Ÿæ‰‹å†Œ",
                items: [
                    { title: "çŸ­ä¿¡é…ç½®", path: "/sms/", file: "sms.html" },
                    { title: "é‚®ä»¶é…ç½®", path: "/mail/", file: "mail.html" },
                    { title: "ç«™å†…ä¿¡é…ç½®", path: "/notify/", file: "notify.html" },
                    { title: "æ•°æ®è„±æ•ã€å­—æ®µæƒé™", path: "/desensitize/", file: "desensitize.html" },
                    { title: "æ•æ„Ÿè¯", path: "/sensitive-word/", file: "sensitive-word.html" },
                    { title: "åœ°åŒº & IP åº“", path: "/area-and-ip/", file: "area-and-ip.html" }
                ]
            },
            {
                title: "è¿ç»´æ‰‹å†Œ",
                items: [
                    { title: "å¼€å‘ç¯å¢ƒ", path: "/dev-env/", file: "dev-env.html" },
                    { title: "Linux éƒ¨ç½²", path: "/deployment-linux/", file: "deployment-linux.html" },
                    { title: "Docker éƒ¨ç½²", path: "/deployment-docker/", file: "deployment-docker.html" },
                    { title: "Jenkins éƒ¨ç½²", path: "/deployment-jenkins/", file: "deployment-jenkins.html" },
                    { title: "å®å¡”éƒ¨ç½²", path: "/deployment-baota/", file: "deployment-baota.html" },
                    { title: "HTTPS è¯ä¹¦", path: "/https/", file: "https.html" },
                    { title: "æœåŠ¡ç›‘æ§", path: "/server-monitor/", file: "server-monitor.html" }
                ]
            },
            {
                title: "å‰ç«¯æ‰‹å†Œ Vue 3.x",
                items: [
                    { title: "å¼€å‘è§„èŒƒ", path: "/vue3/dev-spec/", file: "vue3/dev-spec.html" },
                    { title: "èœå•è·¯ç”±", path: "/vue3/route/", file: "vue3/route.html" },
                    { title: "Icon å›¾æ ‡", path: "/vue3/icon/", file: "vue3/icon.html" },
                    { title: "å­—å…¸æ•°æ®", path: "/vue3/dict/", file: "vue3/dict.html" },
                    { title: "ç³»ç»Ÿç»„ä»¶", path: "/vue3/components/", file: "vue3/components.html" },
                    { title: "é€šç”¨æ–¹æ³•", path: "/vue3/util/", file: "vue3/util.html" },
                    { title: "é…ç½®è¯»å–", path: "/vue3/config-center/", file: "vue3/config-center.html" },
                    { title: "CRUD ç»„ä»¶", path: "/vue3/crud-schema/", file: "vue3/crud-schema.html" },
                    { title: "å›½é™…åŒ–", path: "/vue3/i18n/", file: "vue3/i18n.html" },
                    { title: "IDE è°ƒè¯•", path: "/vue3/debugger/", file: "vue3/debugger.html" },
                    { title: "ä»£ç æ ¼å¼åŒ–", path: "/vue3/format/", file: "vue3/format.html" }
                ]
            },
            {
                title: "å‰ç«¯æ‰‹å†Œ Vue 2.x",
                items: [
                    { title: "å¼€å‘è§„èŒƒ", path: "/vue2/dev-spec/", file: "vue2/dev-spec.html" },
                    { title: "èœå•è·¯ç”±", path: "/vue2/route/", file: "vue2/route.html" },
                    { title: "Icon å›¾æ ‡", path: "/vue2/icon/", file: "vue2/icon.html" },
                    { title: "å­—å…¸æ•°æ®", path: "/vue2/dict/", file: "vue2/dict.html" },
                    { title: "ç³»ç»Ÿç»„ä»¶", path: "/vue2/components/", file: "vue2/components.html" },
                    { title: "é€šç”¨æ–¹æ³•", path: "/vue2/util/", file: "vue2/util.html" },
                    { title: "é…ç½®è¯»å–", path: "/vue2/config-center/", file: "vue2/config-center.html" }
                ]
            },
            {
                title: "æ›´æ–°æ—¥å¿—",
                items: [
                    { title: "ã€v2-6-1ã€‘å¼€å‘ä¸­", path: "/changelog/2.6.1/", file: "changelog/2.6.1.html" },
                    { title: "ã€v2-6-0ã€‘2025-06-07", path: "/changelog/2.6.0/", file: "changelog/2.6.0.html" },
                    { title: "ã€v2.5.0ã€‘2025-05-13", path: "/changelog/2.5.0/", file: "changelog/2.5.0.html" },
                    { title: "ã€v2.4.2ã€‘2025-04-12", path: "/changelog/2.4.2/", file: "changelog/2.4.2.html" },
                    { title: "ã€v2.4.1ã€‘2025-02-09", path: "/changelog/2.4.1/", file: "changelog/2.4.1.html" },
                    { title: "ã€v2.4.0ã€‘2024-12-31", path: "/changelog/2.4.0/", file: "changelog/2.4.0.html" },
                    { title: "ã€v2.3.0ã€‘2024-10-07", path: "/changelog/2.3.0/", file: "changelog/2.3.0.html" },
                    { title: "ã€v2.2.0ã€‘2024-08-02", path: "/changelog/2.2.0/", file: "changelog/2.2.0.html" },
                    { title: "ã€v2.1.0ã€‘2024-05-05", path: "/changelog/2.1.0/", file: "changelog/2.1.0.html" },
                    { title: "ã€v2.0.1ã€‘2024-03-01", path: "/changelog/2.0.1/", file: "changelog/2.0.1.html" },
                    { title: "ã€v2.0.0ã€‘2024-01-26", path: "/changelog/2.0.0/", file: "changelog/2.0.0.html" }
                ]
            }
        ];

        let currentDoc = null;
        let filteredMenus = [...menuStructure];
        let tocVisible = true;
        let tocItems = [];
        let isScrolling = false;

        // åˆå§‹åŒ–
        function init() {
            renderMenu();
            setupSearch();

            // ä»localStorageæ¢å¤ä¸Šæ¬¡é€‰æ‹©çš„æ–‡æ¡£
            const lastDoc = localStorage.getItem('lastSelectedDoc');
            if (lastDoc) {
                loadDocument(lastDoc);
            }
        }

        // æ¸²æŸ“èœå•
        function renderMenu() {
            const menuList = document.getElementById('menuList');

            let html = '';
            filteredMenus.forEach(category => {
                html += `<div class="menu-category">`;
                html += `<div class="category-header" onclick="toggleCategory(this)">
                    <span>${category.title}</span>
                    <span class="expand-icon">â–¶</span>
                </div>`;

                html += `<div class="category-items">`;
                category.items.forEach(item => {
                    const isActive = currentDoc === item.file ? 'active' : '';
                    const isDisabled = !item.file ? 'disabled' : '';
                    const clickHandler = item.file ? `onclick="loadDocument('${item.file}')"` : '';

                    html += `<div class="menu-item ${isActive} ${isDisabled}" ${clickHandler} data-title="${item.title.toLowerCase()}" data-file="${item.file || ''}">
                        <span class="item-title">${item.title}</span>
                        <span class="item-path">${item.path}</span>
                        ${!item.file ? '<span class="item-status">è¿˜æœªä¸‹è½½</span>' : ''}
                    </div>`;
                });
                html += `</div>`;

                html += `</div>`;
            });

            menuList.innerHTML = html;
        }

        // åˆ‡æ¢åˆ†ç±»å±•å¼€/æ”¶èµ·
        function toggleCategory(header) {
            const category = header.parentElement;
            const items = category.querySelector('.category-items');
            const icon = header.querySelector('.expand-icon');

            if (items.classList.contains('expanded')) {
                items.classList.remove('expanded');
                header.classList.remove('expanded');
            } else {
                items.classList.add('expanded');
                header.classList.add('expanded');
            }
        }

        // æœç´¢åŠŸèƒ½
        function setupSearch() {
            const searchBox = document.getElementById('searchBox');
            searchBox.addEventListener('input', function(e) {
                const searchTerm = e.target.value.toLowerCase();

                if (searchTerm === '') {
                    filteredMenus = [...menuStructure];
                } else {
                    filteredMenus = menuStructure.map(category => {
                        const filteredItems = category.items.filter(item =>
                            item.title.toLowerCase().includes(searchTerm) ||
                            item.path.toLowerCase().includes(searchTerm)
                        );

                        return {
                            ...category,
                            items: filteredItems
                        };
                    }).filter(category => category.items.length > 0);
                }

                renderMenu();

                // å¦‚æœæœ‰æœç´¢ç»“æœï¼Œè‡ªåŠ¨å±•å¼€æ‰€æœ‰åˆ†ç±»
                if (searchTerm !== '') {
                    setTimeout(() => {
                        document.querySelectorAll('.category-header').forEach(header => {
                            const items = header.parentElement.querySelector('.category-items');
                            items.classList.add('expanded');
                            header.classList.add('expanded');
                        });
                    }, 100);
                }
            });
        }

        // åŠ è½½æ–‡æ¡£
        async function loadDocument(filename) {
            const contentBody = document.getElementById('contentBody');
            const contentTitle = document.getElementById('contentTitle');
            const contentMeta = document.getElementById('contentMeta');

                         // æ˜¾ç¤ºåŠ è½½çŠ¶æ€
             contentBody.innerHTML = '<div class="content-wrapper"><div class="loading">æ­£åœ¨åŠ è½½æ–‡æ¡£...</div></div>';

            try {
                const response = await fetch(filename);
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }

                const html = await response.text();

                // è§£æHTMLï¼Œæå–å†…å®¹
                const parser = new DOMParser();
                const doc = parser.parseFromString(html, 'text/html');

                // æå–æ ‡é¢˜
                const title = doc.querySelector('title')?.textContent || 'æœªçŸ¥æ ‡é¢˜';

                // æå–å†…å®¹ - æŸ¥æ‰¾.content div
                const contentDiv = doc.querySelector('.content');
                let content = '';

                if (contentDiv) {
                    content = contentDiv.innerHTML;
                } else {
                    // å¦‚æœæ²¡æœ‰æ‰¾åˆ°.content divï¼Œå°è¯•æå–bodyå†…å®¹
                    const bodyContent = doc.querySelector('body');
                    if (bodyContent) {
                        content = bodyContent.innerHTML;
                    } else {
                        content = '<p>æ— æ³•æå–æ–‡æ¡£å†…å®¹</p>';
                    }
                }

                                                  // æ›´æ–°é¡µé¢
                contentTitle.textContent = title.replace(' | ruoyi-vue-pro å¼€å‘æŒ‡å—', '');
                contentMeta.textContent = `æ–‡ä»¶: ${filename}`;
                 contentBody.innerHTML = `<div class="content-wrapper">${content}</div>`;

                 // ä¸ºå›¾ç‰‡æ·»åŠ ç‚¹å‡»æ”¾å¤§åŠŸèƒ½
                 setupImageModal();

                 // ç”Ÿæˆç›®å½•å¯¼èˆª
                 generateTOC();

                 // æ›´æ–°å½“å‰æ–‡æ¡£çŠ¶æ€
                 currentDoc = filename;

                // æ›´æ–°èœå•é€‰ä¸­çŠ¶æ€
                document.querySelectorAll('.menu-item').forEach(item => {
                    item.classList.remove('active');
                    if (item.getAttribute('data-file') === filename) {
                        item.classList.add('active');
                    }
                });

                // ä¿å­˜åˆ°localStorage
                localStorage.setItem('lastSelectedDoc', filename);

                // æ»šåŠ¨åˆ°é¡¶éƒ¨
                contentBody.scrollTop = 0;

                // åœ¨ç§»åŠ¨ç«¯å…³é—­èœå•
                if (window.innerWidth <= 768) {
                    document.getElementById('sidebar').classList.remove('show');
                }

                         } catch (error) {
                 console.error('åŠ è½½æ–‡æ¡£å¤±è´¥:', error);
                 contentBody.innerHTML = `<div class="content-wrapper"><div class="error">åŠ è½½æ–‡æ¡£å¤±è´¥: ${error.message}</div></div>`;
             }
        }

        // ç§»åŠ¨ç«¯èœå•åˆ‡æ¢
        function toggleMobileMenu() {
            const sidebar = document.getElementById('sidebar');
            sidebar.classList.toggle('show');
        }

        // ç›‘å¬çª—å£å¤§å°å˜åŒ–
        window.addEventListener('resize', function() {
            if (window.innerWidth > 768) {
                document.getElementById('sidebar').classList.remove('show');
            }
        });

                 // å›¾ç‰‡æ”¾å¤§åŠŸèƒ½
         function setupImageModal() {
             const images = document.querySelectorAll('.content-body img');
             images.forEach(img => {
                 img.addEventListener('click', function() {
                     openImageModal(this.src);
                 });
             });
         }

         function openImageModal(src) {
             const modal = document.getElementById('imageModal');
             const modalImage = document.getElementById('modalImage');
             modal.style.display = 'block';
             modalImage.src = src;
         }

         function closeImageModal() {
             const modal = document.getElementById('imageModal');
             modal.style.display = 'none';
         }

         // ç‚¹å‡»æ¨¡æ€æ¡†èƒŒæ™¯å…³é—­
         document.getElementById('imageModal').addEventListener('click', function(e) {
             if (e.target === this) {
                 closeImageModal();
             }
         });

         // ESCé”®å…³é—­æ¨¡æ€æ¡†
         document.addEventListener('keydown', function(e) {
             if (e.key === 'Escape') {
                 closeImageModal();
             }
         });

         // ç›®å½•å¯¼èˆªç›¸å…³åŠŸèƒ½
         function generateTOC() {
             const contentWrapper = document.querySelector('.content-wrapper');
             const tocContent = document.getElementById('tocContent');
             const tocNav = document.getElementById('tocNav');
             
             if (!contentWrapper) {
                 tocNav.classList.remove('show');
                 return;
             }

             // æŸ¥æ‰¾æ‰€æœ‰æ ‡é¢˜å…ƒç´ 
             const headings = contentWrapper.querySelectorAll('h2, h3, h4, h5, h6');
             
             if (headings.length === 0) {
                 tocNav.classList.remove('show');
                 return;
             }

             tocItems = [];
             let tocHTML = '';

             headings.forEach((heading, index) => {
                 const level = parseInt(heading.tagName.charAt(1));
                 const text = heading.textContent.trim();
                 
                 // å¦‚æœæ ‡é¢˜æ²¡æœ‰idï¼Œè‡ªåŠ¨ç”Ÿæˆä¸€ä¸ª
                 if (!heading.id) {
                     heading.id = `heading-${index}`;
                 }

                 const tocItem = {
                     id: heading.id,
                     text: text,
                     level: level,
                     element: heading
                 };

                 tocItems.push(tocItem);

                 tocHTML += `<a href="#${heading.id}" class="toc-item level-${level}" data-target="${heading.id}" onclick="scrollToSection('${heading.id}', event)">${text}</a>`;
             });

             tocContent.innerHTML = tocHTML;
             tocNav.classList.add('show');

             // è®¾ç½®æ»šåŠ¨ç›‘å¬
             setupScrollListener();
         }

         function scrollToSection(targetId, event) {
             if (event) {
                 event.preventDefault();
             }

             const targetElement = document.getElementById(targetId);
             const contentBody = document.getElementById('contentBody');
             
             if (targetElement && contentBody) {
                 isScrolling = true;
                 
                 // è®¡ç®—ç›®æ ‡ä½ç½®ï¼Œè€ƒè™‘headeré«˜åº¦
                 const targetTop = targetElement.offsetTop - 80;
                 
                 contentBody.scrollTo({
                     top: targetTop,
                     behavior: 'smooth'
                 });

                 // æ›´æ–°æ´»è·ƒçŠ¶æ€
                 updateActiveTOC(targetId);

                 // é‡ç½®æ»šåŠ¨æ ‡è®°
                 setTimeout(() => {
                     isScrolling = false;
                 }, 1000);
             }
         }

         function updateActiveTOC(activeId) {
             const tocItems = document.querySelectorAll('.toc-item');
             tocItems.forEach(item => {
                 if (item.getAttribute('data-target') === activeId) {
                     item.classList.add('active');
                 } else {
                     item.classList.remove('active');
                 }
             });
         }

         function setupScrollListener() {
             const contentBody = document.getElementById('contentBody');
             
             if (contentBody) {
                 contentBody.addEventListener('scroll', throttle(function() {
                     if (isScrolling) return;
                     
                     const scrollTop = contentBody.scrollTop;
                     const contentHeight = contentBody.clientHeight;
                     
                     // æ‰¾åˆ°å½“å‰å¯è§çš„æ ‡é¢˜
                     let activeHeading = null;
                     
                     for (let i = tocItems.length - 1; i >= 0; i--) {
                         const item = tocItems[i];
                         const element = item.element;
                         const elementTop = element.offsetTop - 100;
                         
                         if (scrollTop >= elementTop) {
                             activeHeading = item.id;
                             break;
                         }
                     }
                     
                     if (activeHeading) {
                         updateActiveTOC(activeHeading);
                     }
                 }, 100));
             }
         }

         function toggleTOC() {
             const tocContent = document.getElementById('tocContent');
             const tocToggle = document.querySelector('.toc-toggle');
             
             if (tocVisible) {
                 tocContent.style.display = 'none';
                 tocToggle.textContent = '+';
                 tocVisible = false;
             } else {
                 tocContent.style.display = 'block';
                 tocToggle.textContent = 'âˆ’';
                 tocVisible = true;
             }
         }

         // èŠ‚æµå‡½æ•°
         function throttle(func, limit) {
             let inThrottle;
             return function() {
                 const args = arguments;
                 const context = this;
                 if (!inThrottle) {
                     func.apply(context, args);
                     inThrottle = true;
                     setTimeout(() => inThrottle = false, limit);
                 }
             }
         }

         // é¡µé¢åŠ è½½å®Œæˆååˆå§‹åŒ–
         document.addEventListener('DOMContentLoaded', init);
    </script>
</body>
</html>
