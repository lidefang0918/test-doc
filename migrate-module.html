<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>迁移模块（适合新项目） | ruoyi-vue-pro 开发指南</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            border-bottom: 1px solid #eee;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        .source-url {
            color: #666;
            font-size: 14px;
            margin-top: 10px;
        }
        .content-wrapper {
            line-height: 1.8;
        }
        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px 0;
        }
        pre {
            background: #f6f8fa;
            padding: 16px;
            border-radius: 6px;
            overflow-x: auto;
        }
        code {
            background: #f6f8fa;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>迁移模块（适合新项目） | ruoyi-vue-pro 开发指南</h1>
        <div class="source-url">原始链接: <a href="https://doc.iocoder.cn/migrate-module/">https://doc.iocoder.cn/migrate-module/</a></div>
    </div>
    <div class="content-wrapper">
        <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABGpJREFUSA3tVVtoXFUU3fvOI53UlmCaKIFmwEhsE7QK0ipFEdHEKpXaZGrp15SINsXUWvBDpBgQRKi0+KKoFeJHfZA+ED9KKoIU2gYD9UejTW4rVIzm0VSTziPzuNu1z507dibTTjL4U/DAzLn3nL3X2o91ziX6f9wMFdh6Jvbm9nNSV0msViVO6tN1Rm7NMu2OpeJ9lWBUTDxrJbYTS0hInuwciu9eLHlFxCLCZEk3MegsJmZ5K/JD6t7FkFdEvGUo1g7qJoG3MHImqRIn8/nzY1K9UPKKiJmtnUqHVE3Gbuay6vJE/N2FEmuxFjW2nUuE0yQXRRxLiTUAzs36zhZvOXJPdX850EVnnLZkB8prodQoM5JGj7Xk2mvC7JB8tG04Ef5PiXtG0UtxupRQSfTnBoCy554x18yJHI6I+G5Eru4LHmPJZEQsrvPUbMiA8G/WgMK7w7I+ez7++o2ANfbrjvaOl1tFMs+htG3IrZH9/hDX1Pr8Tc0UvH8tcX29KzAgIGcEkINyW5BF9x891hw6VYqgJHEk0huccS7vh3C6gTiODL+26huuBtbct8eZnqLML8PkxGYpuPZBqtqwkSjgc4mB5gbgig5i+y0UDK35LMxXisn9xQtK+nd26gTIHsHe/oblK/b29fUmN/8Y+9jAQrnBp56m1LcDlDp9irKTExSKduXJVWSqdBMA08pEJnEIOB3FPPMybu/oeV8zFeYN3xx576Q6RH+VmplE4ncQV5v+5rzSoyOU7PuEAg8g803PwBJ0CExno/jcMbN8tONYeOmHiuUNryvm3fRUy4tMPVLdAGkUhNWuggGrJcXPv+ouCjz0MKUHz1J2/E8IC9nqTabcxgaBYM0hPhD5Y65FsbxRQKxCQrDjDctW7PUM3HuZunFyifSAqEfuzCp48Il24luWUWZoyJCaPR82jE0+kFA643wRFVni4RYSq3ohJO2pZ7B5dO4xkDWbEpossJPLSrPjYID8rS2UHTlvyNxqIGsg674XJJ7vnh5L7PNwC4hh2sjCI96mzszOTpxLF0T7l88Yz7lAuK6OnL8gXLOnTvpzSb22YG8W7us3jSebFHeeqnXRG1vt+MoUM84LQIBmMsCTAcOauTh0T0l0neQK7m2bLMt2mGxU3HYssS0J2cdv5wljlPsrIuZLAG/2DOZIXgCYT8uMGZN+e2kSirfxZOPCsC0f24nTZzspnVn9VePS1Z5vubmAGGXG8ZFno9Hel0yfA5ZPhF7Dh972BQJ2qCpgH67lmWtBYbvk6sz02wjky2vXyz0XErP/kFB619js1BtwfOV4OPRqOQBjy3Qbk18vigUPPSD5ceHnwck7W9bhAqZdd7SuG7w4/P2F/GaJh8c7e9qgow+Q7cGBo+98WsLkuktFqiZabtXuQTu/Y5ETbR0v7tNSFnvrmu6pjdoan2KjMu8q/Hmj1EfCO2ZGfEIbIXKUlw8qaX9/b2oeSJmFksSeT/Fn0V3nSypChh4Gjh74ybO9aeZ/AN2dwciu2/MhAAAAAElFTkSuQmCC">迁移模块（适合新项目）<!----></h1>  <div class="theme-vdoing-content content__default"><p>系统内置多种多种业务功能，可以用于快速你的业务系统：</p> <p><img src="/img/common/ruoyi-vue-pro-biz.png" alt="功能分层"></p> <ul><li>通用模块（必选）：系统功能、基础设施</li> <li>通用模块（可选）：工作流程、支付系统、数据报表、会员中心</li> <li>业务系统（按需）：ERP 系统、CRM 系统、商城系统、微信公众号</li></ul> <p>系统分成两个版本：</p> <table><thead><tr><th>版本</th> <th>JDK 8 + Spring Boot 2.7</th> <th>JDK 17/21 + Spring Boot 3.2</th></tr></thead> <tbody><tr><td>【完整版】<a href="https://gitee.com/zhijiantianya/ruoyi-vue-pro" target="_blank" rel="noopener noreferrer">ruoyi-vue-pro<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><a href="https://gitee.com/zhijiantianya/ruoyi-vue-pro/tree/master/" target="_blank" rel="noopener noreferrer"><code>master</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 分支</td> <td><a href="https://gitee.com/zhijiantianya/ruoyi-vue-pro/tree/master-jdk17/" target="_blank" rel="noopener noreferrer"><code>master-jdk17</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 分支</td></tr> <tr><td>【精简版】<a href="https://gitee.com/yudaocode/yudao-boot-mini" target="_blank" rel="noopener noreferrer">yudao-boot-mini<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></td> <td><a href="https://gitee.com/yudaocode/yudao-boot-mini/tree/master/" target="_blank" rel="noopener noreferrer"><code>master</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 分支</td> <td><a href="https://gitee.com/yudaocode/yudao-boot-mini/tree/master-jdk17/" target="_blank" rel="noopener noreferrer"><code>master-jdk17</code><span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 分支</td></tr></tbody></table> <ul><li>【完整版】：包括系统功能、基础设施、会员中心、数据报表、工作流程、商城系统、微信公众号、CRM、ERP 等功能</li> <li>【精简版】：只包括系统功能、基础设施功能，不包括会员中心、数据报表、工作流程、商城系统、微信公众号、CRM、ERP 等功能</li></ul> <p>参考本文档，只需要 5-10 分钟，即可将【完整版】按需迁移到【精简版】。只需要完成以下 3 个步骤：</p> <ul><li>第一步，后端代码迁移</li> <li>第二步，前端代码清理</li> <li>第三步，数据库清理</li></ul> <div class="custom-block tip"><p class="custom-block-title">友情提示：虽然有 3 个步骤，实际只要第一步做完就可以看到效果，候选两步只是为了清理的更干净</p></div> <h2 id="_1-后端代码迁移"><a href="#_1-%E5%90%8E%E7%AB%AF%E4%BB%A3%E7%A0%81%E8%BF%81%E7%A7%BB" class="header-anchor">#</a> 1. 后端代码迁移</h2> <p>后端代码迁移，指的是将【完整版】的代码，复制张贴到【精简版】。</p> <table><thead><tr><th>项目</th> <th>说明</th></tr></thead> <tbody><tr><td><code>yudao-module-member</code></td> <td>会员中心的 Module 模块</td></tr> <tr><td><code>yudao-module-pay</code></td> <td>支付系统的 Module 模块</td></tr> <tr><td><code>yudao-module-mall</code></td> <td>商城系统的 Module 模块</td></tr> <tr><td><code>yudao-module-erp</code></td> <td>ERP 系统的 Module 模块</td></tr> <tr><td><code>yudao-module-crm</code></td> <td>CRM 系统的 Module 模块</td></tr> <tr><td><code>yudao-module-mp</code></td> <td>微信公众号的 Module 模块</td></tr> <tr><td><code>yudao-module-report</code></td> <td>大屏报表 Module 模块</td></tr></tbody></table> <h3 id="_1-1-迁移步骤"><a href="#_1-1-%E8%BF%81%E7%A7%BB%E6%AD%A5%E9%AA%A4" class="header-anchor">#</a> 1.1 迁移步骤</h3> <p>① 第一步，选择一个你想要迁移的 Maven 模块的代码，复制粘贴过去。例如说：</p> <p><img src="/img/%E5%90%8E%E7%AB%AF%E6%89%8B%E5%86%8C/%E8%BF%81%E7%A7%BB%E6%A8%A1%E5%9D%97/%E5%90%8E%E7%AB%AF%E4%BB%A3%E7%A0%81%E8%BF%81%E7%A7%BB.png" alt="后端代码迁移"></p> <p>② 第二步（可选），如果迁移的模块有 test 单元测试，需要删除对应的 <code>test</code> 目录，和 <code>yudao-spring-boot-starter-test</code> 依赖，如下图所示：</p> <div class="custom-block tip"><p class="custom-block-title">疑问：为什么要删除 test 目录和依赖呢？</p> <p>因为【精简版】考虑到大家可能不需要单元测试，所以一并清理了。</p></div> <hr> <p>下面，可以按照你的场景，进行一下操作。</p> <p>注意！不需要每个场景都操作，只需要你需要的！！！</p> <h3 id="_1-2-场景-我要做-bpm-工作流"><a href="#_1-2-%E5%9C%BA%E6%99%AF-%E6%88%91%E8%A6%81%E5%81%9A-bpm-%E5%B7%A5%E4%BD%9C%E6%B5%81" class="header-anchor">#</a> 1.2 场景：我要做 BPM 工作流</h3> <p>将 <code>yudao-module-bpm</code> 模块，从【完整版】复制到【精简版】。然后参考 <a href="/bpm/">《工作流手册》</a> 文档，测试迁移的正确性。</p> <h3 id="_1-3-场景-我要做-crm-系统"><a href="#_1-3-%E5%9C%BA%E6%99%AF-%E6%88%91%E8%A6%81%E5%81%9A-crm-%E7%B3%BB%E7%BB%9F" class="header-anchor">#</a> 1.3 场景：我要做 CRM 系统</h3> <p>① 将 <code>yudao-module-bpm</code> 模块，从【完整版】复制到【精简版】。然后参考 <a href="/bpm/">《工作流手册》</a> 文档，测试迁移的正确性。</p> <p>② 将 <code>yudao-module-crm</code> 模块，从【完整版】复制到【精简版】。然后参考 <a href="/crm/build/">《CRM 系统手册》</a> 文档，测试迁移的正确性。</p> <h3 id="_1-4-场景-我要做-erp-系统"><a href="#_1-4-%E5%9C%BA%E6%99%AF-%E6%88%91%E8%A6%81%E5%81%9A-erp-%E7%B3%BB%E7%BB%9F" class="header-anchor">#</a> 1.4 场景：我要做 ERP 系统</h3> <p>将 <code>yudao-module-erp</code> 模块，从【完整版】复制到【精简版】。然后参考 <a href="/erp/build/">《ERP 系统手册》</a> 文档，测试迁移的正确性。</p> <h3 id="_1-5-场景-我要做-mall-商城"><a href="#_1-5-%E5%9C%BA%E6%99%AF-%E6%88%91%E8%A6%81%E5%81%9A-mall-%E5%95%86%E5%9F%8E" class="header-anchor">#</a> 1.5 场景：我要做 MALL 商城</h3> <p>① 将 <code>yudao-module-member</code> 模块，从【完整版】复制到【精简版】。然后参考 <a href="/member/build/">《会员中心手册》</a> 文档，测试迁移的正确性。</p> <p>② 将 <code>yudao-module-pay</code> 模块，从【完整版】复制到【精简版】。然后参考 <a href="/pay/build/">《支付系统手册》</a> 文档，测试迁移的正确性。</p> <p>③ 将 <code>yudao-module-mall</code> 模块，从【完整版】复制到【精简版】。然后参考 <a href="/mall/build/">《商城系统手册》</a> 文档，测试迁移的正确性。</p> <div class="custom-block tip"><p class="custom-block-title">友情提示：因为 MALL 商城需要的模块比较多，我们其实也可以基于【完整版】，删除不需要的 Module 模块。</p> <p>只需要删除 <code>yudao-module-erp</code>、<code>yudao-module-report</code>、<code>yudao-module-mp</code>、<code>yudao-module-bpm</code>、<code>yudao-module-crm</code> 模块，也是蛮方便的！</p></div> <h3 id="_1-6-场景-我要做-report-大屏报表"><a href="#_1-6-%E5%9C%BA%E6%99%AF-%E6%88%91%E8%A6%81%E5%81%9A-report-%E5%A4%A7%E5%B1%8F%E6%8A%A5%E8%A1%A8" class="header-anchor">#</a> 1.6 场景：我要做 REPORT 大屏报表</h3> <p>将 <code>yudao-module-report</code> 模块，从【完整版】复制到【精简版】。然后参考 <a href="/report/">《大屏手册》</a> 文档，测试迁移的正确性。</p> <h3 id="_1-7-其它场景补充"><a href="#_1-7-%E5%85%B6%E5%AE%83%E5%9C%BA%E6%99%AF%E8%A1%A5%E5%85%85" class="header-anchor">#</a> 1.7 其它场景补充</h3> <p>① 【会员】如果你要给你 C 端（会员）做一个 App 或者 H5，需要使用到「会员」功能，可以将 <code>yudao-module-member</code> 模块，从【完整版】复制到【精简版】。然后参考 <a href="/member/build/">《会员中心手册》</a> 文档，测试迁移的正确性。</p> <p>② 【支付】如果你的系统需要使用到支付宝、微信等支付功能，可以将 <code>yudao-module-pay</code> 模块，从【完整版】复制到【精简版】。然后参考 <a href="/pay/build/">《支付系统手册》</a> 文档，测试迁移的正确性。</p> <p>③ 【公众号】如果你的系统需要使用到微信公众号功能，可以将 <code>yudao-module-mp</code> 模块，从【完整版】复制到【精简版】。然后参考 <a href="/mp/build/">《公众号手册》</a> 文档，测试迁移的正确性。</p> <h2 id="_2-前端代码清理"><a href="#_2-%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E6%B8%85%E7%90%86" class="header-anchor">#</a> 2. 前端代码清理</h2> <p>前端仓库，不区分【完整版】【精简版】，因为它本身就比较简单。只需要删除 <code>api</code> 和 <code>views</code> 下面对应的模块即可。如下图所示：</p> <p><img src="/img/%E5%90%8E%E7%AB%AF%E6%89%8B%E5%86%8C/%E8%BF%81%E7%A7%BB%E6%A8%A1%E5%9D%97/%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81%E6%B8%85%E7%90%86.png" alt="前端代码清理"></p> <p>前端 <code>api</code> 和 <code>views</code> 下面的模块，对应后端的 <code>yudao-module-xxx</code> 模块。所以后端没有迁移的模块，前端也需要删除。</p> <p>如果碰到 <code>remaining.ts</code> 路由报错，可见 <a href="https://t.zsxq.com/69GWJ" target="_blank" rel="noopener noreferrer">https://t.zsxq.com/69GWJ<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> 帖子！</p> <h2 id="_3-数据库清理"><a href="#_3-%E6%95%B0%E6%8D%AE%E5%BA%93%E6%B8%85%E7%90%86" class="header-anchor">#</a> 3. 数据库清理</h2> <p>数据库的迁移，只设计到两份“配置”表：</p> <ul><li>菜单相关：<code>system_menu</code></li> <li>字典相关：<code>system_dict_data</code>、<code>system_dict_type</code></li></ul> <h3 id="_3-1-清理菜单"><a href="#_3-1-%E6%B8%85%E7%90%86%E8%8F%9C%E5%8D%95" class="header-anchor">#</a> 3.1 清理菜单</h3> <p>系统的菜单划分，也是按照模块来的。所以只需要删除没迁移的模块的菜单即可。如下图所示：</p> <p><img src="/img/%E5%90%8E%E7%AB%AF%E6%89%8B%E5%86%8C/%E8%BF%81%E7%A7%BB%E6%A8%A1%E5%9D%97/%E8%8F%9C%E5%8D%95%E6%B8%85%E7%90%86.png" alt="菜单清理"></p> <p>可以通过如下 SQL 清理：</p> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token comment"># 删除顶级菜单：name 需要换成想要删除模块的菜单名</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_menu <span class="token keyword">WHERE</span> name <span class="token operator">=</span> <span class="token string">'支付管理'</span><span class="token punctuation">;</span>

<span class="token comment"># 删除子菜单：多次执行，直到 Affected rows: 0 影响条数为 0</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_menu <span class="token keyword">WHERE</span> parent_id <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> id <span class="token keyword">FROM</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> id <span class="token keyword">FROM</span> system_menu<span class="token punctuation">)</span> <span class="token keyword">AS</span> <span class="token keyword">TEMP</span><span class="token punctuation">)</span> <span class="token operator">AND</span> parent_id <span class="token operator">&gt;</span> <span class="token number">0</span>

<span class="token comment"># 删除关联表</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_role_menu <span class="token keyword">WHERE</span> menu_id <span class="token operator">NOT</span> <span class="token operator">IN</span> <span class="token punctuation">(</span><span class="token keyword">SELECT</span> id <span class="token keyword">FROM</span> system_menu<span class="token punctuation">)</span>
</code></pre></div><h3 id="_3-2-字典清理"><a href="#_3-2-%E5%AD%97%E5%85%B8%E6%B8%85%E7%90%86" class="header-anchor">#</a> 3.2 字典清理</h3> <p>字典的清理，可以通过 SQL 完成。</p> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token comment"># 删除 `yudao-module-member` 不要的字典数据</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_type <span class="token keyword">WHERE</span> <span class="token keyword">type</span> <span class="token operator">LIKE</span> <span class="token string">'member_%'</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_data <span class="token keyword">WHERE</span> dict_type <span class="token operator">LIKE</span> <span class="token string">'member_%'</span><span class="token punctuation">;</span>

<span class="token comment"># 删除 `yudao-module-pay` 不要的字典数据</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_type <span class="token keyword">WHERE</span> <span class="token keyword">type</span> <span class="token operator">LIKE</span> <span class="token string">'pay_%'</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_data <span class="token keyword">WHERE</span> dict_type <span class="token operator">LIKE</span> <span class="token string">'pay_%'</span><span class="token punctuation">;</span>

<span class="token comment"># 删除 `yudao-module-mall` 不要的字典数据</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_type <span class="token keyword">WHERE</span> <span class="token keyword">type</span> <span class="token operator">LIKE</span> <span class="token string">'product_%'</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_data <span class="token keyword">WHERE</span> dict_type <span class="token operator">LIKE</span> <span class="token string">'product_%'</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_type <span class="token keyword">WHERE</span> <span class="token keyword">type</span> <span class="token operator">LIKE</span> <span class="token string">'trade_%'</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_data <span class="token keyword">WHERE</span> dict_type <span class="token operator">LIKE</span> <span class="token string">'trade_%'</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_type <span class="token keyword">WHERE</span> <span class="token keyword">type</span> <span class="token operator">LIKE</span> <span class="token string">'promotion_%'</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_data <span class="token keyword">WHERE</span> dict_type <span class="token operator">LIKE</span> <span class="token string">'promotion_%'</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_type <span class="token keyword">WHERE</span> <span class="token keyword">type</span> <span class="token operator">LIKE</span> <span class="token string">'brokerage_enabled_condition_%'</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_data <span class="token keyword">WHERE</span> dict_type <span class="token operator">LIKE</span> <span class="token string">'brokerage_enabled_condition_%'</span><span class="token punctuation">;</span>

<span class="token comment"># 删除 `yudao-module-erp` 不要的字典数据</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_type <span class="token keyword">WHERE</span> <span class="token keyword">type</span> <span class="token operator">LIKE</span> <span class="token string">'erp_%'</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_data <span class="token keyword">WHERE</span> dict_type <span class="token operator">LIKE</span> <span class="token string">'erp_%'</span><span class="token punctuation">;</span>

<span class="token comment"># 删除 `yudao-module-crm` 不要的字典数据</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_type <span class="token keyword">WHERE</span> <span class="token keyword">type</span> <span class="token operator">LIKE</span> <span class="token string">'crm_%'</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_data <span class="token keyword">WHERE</span> dict_type <span class="token operator">LIKE</span> <span class="token string">'crm_%'</span><span class="token punctuation">;</span>

<span class="token comment"># 删除 `yudao-module-mp` 不要的字典数据</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_type <span class="token keyword">WHERE</span> <span class="token keyword">type</span> <span class="token operator">LIKE</span> <span class="token string">'mp_%'</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_data <span class="token keyword">WHERE</span> dict_type <span class="token operator">LIKE</span> <span class="token string">'mp_%'</span><span class="token punctuation">;</span>

<span class="token comment"># 删除 `yudao-module-report` 不要的字典数据</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_type <span class="token keyword">WHERE</span> <span class="token keyword">type</span> <span class="token operator">LIKE</span> <span class="token string">'report_%'</span><span class="token punctuation">;</span>
<span class="token keyword">DELETE</span> <span class="token keyword">FROM</span> system_dict_data <span class="token keyword">WHERE</span> dict_type <span class="token operator">LIKE</span> <span class="token string">'report_%'</span><span class="token punctuation">;</span>
</code></pre></div></div></div>
    </div>
</body>
</html>