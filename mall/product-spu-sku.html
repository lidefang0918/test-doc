<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>【商品】商品 SPU 与 SKU | ruoyi-vue-pro 开发指南</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }
        .header {
            border-bottom: 1px solid #eee;
            padding-bottom: 20px;
            margin-bottom: 30px;
        }
        .source-url {
            color: #666;
            font-size: 14px;
            margin-top: 10px;
        }
        .content-wrapper {
            line-height: 1.8;
        }
        img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 20px 0;
        }
        pre {
            background: #f6f8fa;
            padding: 16px;
            border-radius: 6px;
            overflow-x: auto;
        }
        code {
            background: #f6f8fa;
            padding: 2px 4px;
            border-radius: 3px;
            font-family: 'SFMono-Regular', Consolas, 'Liberation Mono', Menlo, monospace;
        }
        table {
            border-collapse: collapse;
            width: 100%;
            margin: 20px 0;
        }
        th, td {
            border: 1px solid #ddd;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>【商品】商品 SPU 与 SKU | ruoyi-vue-pro 开发指南</h1>
        <div class="source-url">原始链接: <a href="https://doc.iocoder.cn/mall/product-spu-sku/">https://doc.iocoder.cn/mall/product-spu-sku/</a></div>
    </div>
    <div class="content-wrapper">
        <div class="content-wrapper"><div class="right-menu-wrapper"><div class="right-menu-margin"><div class="right-menu-title">目录</div> <div class="right-menu-content"></div></div></div> <h1><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAAAAXNSR0IArs4c6QAABH1JREFUSA3tVl1oHFUUPmdmd2ltklqbpJDiNnXFmgbFktho7YMPNiJSSZM0+CAYSkUELVhM6YuwIPpgoOKDqOBDC0XE2CQoNtQXBUFTTcCi+Wlh1V2TQExsUzcltd3M9Tt3ZjZzZ2fT+OJTL8yeM+eee757fmeJbq//KQL8X3DUSFOcfr7cRsRtxNQMWueeVzOkaITIGqQHNg5y8+jNW9ldM7A6nTpAjuolUikAwq7CE3WcM2RRDz+XGVgN3FptU/aUSlvq9Pa3iZ1+sgAqJyyAFqkipd9dqiwHF3P65YycLWc/6sqGrvoEoIp6DOFaX5h6+dnfjkWprwqsPk0dUGq5vySwDImC10KxFHgGL1SWoc92O3eVht09qdXNH11I2SsTsJYqMWzihqGMi+A+Garf3BAuuLI5oGlULyNfyB/HYNujwktOfRrMr5t77NmevqaUopx0grnKAyvVpmwUDB4x6FPXuGvYLTDwWsejwgtgkYKPqRJg8SV6xaiZ3ZTppGneS4yfH5/66fZSDHv+QZci/+h5c5UHtpy67JUqGppM0sh0Nc1dW6/N1W5Yoqat8/TU/VnadmdeW2PLLSyh0cvxBs3KbqTmwYPpxN4do/mzE8nEpvX/UMu2Wbp74zUAK5q6WkHns7V0eWkdPbPzd3rxkTGybadYySumVzhcaJFbs5UrEkQ/+CK8gF5dnh/6ciIZ73gwQ927L1IitoxKLXYP3SjYdOrHHfTZhRRlFyrorafPk20B3HPD1y2G3qKZME5Jcf3t/HUC13/8tSd++vqFveMUTwAUxSUFI1QekR1+bIze3D9MF2aq6cPvG72CgnldWCFqyRw3lwH8ZMerjTD9ElRO7Gv44wNpC90aASqGfVlz/Rx17srQ57/UU26hkhQqUB7dBR71WmzQhHUnblGmVOEw0jhbV1n9OlXUDCIRGaNV5Jp43N516fN7JmnTHdfp7Hgy0luO4aMhtkLL8Bi3bUWYvzh5Mn1dTxrL6QmGuRhGL/TiTTxRoEdTszSaq9GR0NGA3KdkOz3hqSV3MIDhQ5IVX/Ivx3umBti2es2h4eZby7x8br1rkf7Mo90AqC8aQ3sJeNzqFRu+vSANAQe3PL7l0HGOAdwDCeZYvNKeoZp1Qfs6Aipndh86HmFRi0LAnEO47wsqM6cdfjh3jBPUzhZy7nvlUfFsamED1VQt6aISHVymXZ/B2aCtIG8AI8xfobj2d3en1wWVhOeHELKmLQ1s211s88comkv4UCwWyF787mJdYXtNfhKAXVqnKTq8QZvGAGGOfaTo5pGZ/PwbUCr5+DPr/1J92JNHr9aOl/F3iI5+O1nfybsGxoimvZ3ViWSluDITw3P37mypheDIPY0tw7+O/5ApbkYw+zpfaUVu32Pi98+defdUhEpZkRFq0aqyNh9FuL9hpYbEm6iwi0z2REd09ZmyENEbuhjDWzKvZXTqKYaBIr3tt5kuPtQBZFvEUwHt60vfCNu41XsksH9Ij1BMMz1Y0OOunHNShFIP5868g5zeXmuLwL9T4b6Q2+KejgAAAABJRU5ErkJggg==">【商品】商品 SPU 与 SKU<!----></h1>  <div class="theme-vdoing-content content__default"><blockquote><p>参考  <a href="https://www.zhihu.com/question/19841574" target="_blank" rel="noopener noreferrer">《产品 SKU 是什么意思？与之相关的还有哪些？》<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>  整理</p></blockquote> <h2 id="_1-表结构"><a href="#_1-%E8%A1%A8%E7%BB%93%E6%9E%84" class="header-anchor">#</a> 1. 表结构</h2> <p>商品 SPU 与 SKU，由 <code>yudao-module-product</code> 后端模块的 <code>spu</code>、<code>sku</code> 包实现，分成商品 SPU 和商品 SKU 两个表。</p> <p><img src="/img/%E5%95%86%E5%9F%8E%E6%89%8B%E5%86%8C/SPU%E4%B8%8ESKU/%E8%A1%A8%E5%85%B3%E7%B3%BB.png" alt="表结构"></p> <h3 id="_1-1-商品-sku"><a href="#_1-1-%E5%95%86%E5%93%81-sku" class="header-anchor">#</a> 1.1 商品 SKU</h3> <p><strong>SKU：Stock Keeping Unit</strong></p> <p>中文翻译为库存单位。SKU 从库存视角，以库存进出为单位，可以是件、瓶、箱等等。</p> <p>例如，iPhone 手机，按照规格( 颜色 + 内存 )可以组合出如下多个 SKU ：</p> <table><thead><tr><th style="text-align:left;">SKU</th> <th style="text-align:left;">颜色</th> <th style="text-align:left;">内存</th></tr></thead> <tbody><tr><td style="text-align:left;">A</td> <td style="text-align:left;">白色</td> <td style="text-align:left;">16G</td></tr> <tr><td style="text-align:left;">B</td> <td style="text-align:left;">白色</td> <td style="text-align:left;">64G</td></tr> <tr><td style="text-align:left;">C</td> <td style="text-align:left;">黑色</td> <td style="text-align:left;">16G</td></tr> <tr><td style="text-align:left;">D</td> <td style="text-align:left;">黑色</td> <td style="text-align:left;">64G</td></tr></tbody></table> <p>可以看出，颜色（白色、黑色）与内存（16G、64G）组合排列出四种 iPhone SKU。</p> <p>最终 SKU 表结构如下：</p> <blockquote><p>省略 creator/create_time/updater/update_time/deleted/tenant_id 等通用字段</p></blockquote> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>product_sku<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'主键'</span><span class="token punctuation">,</span>
  
  <span class="token identifier"><span class="token punctuation">`</span>spu_id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'spu编号'</span><span class="token punctuation">,</span>
  
  <span class="token identifier"><span class="token punctuation">`</span>properties<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">512</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'属性数组，JSON 格式 [{propertId: , valueId: }, {propertId: , valueId: }]'</span><span class="token punctuation">,</span>
  
  <span class="token identifier"><span class="token punctuation">`</span>price<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'-1'</span> <span class="token keyword">COMMENT</span> <span class="token string">'商品价格，单位：分'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>market_price<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'市场价，单位：分'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>cost_price<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'-1'</span> <span class="token keyword">COMMENT</span> <span class="token string">'成本价，单位： 分'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>bar_code<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">64</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'SKU 的条形码'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>pic_url<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'图片地址'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>stock<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'库存'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>weight<span class="token punctuation">`</span></span> <span class="token keyword">double</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'商品重量，单位：kg 千克'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>volume<span class="token punctuation">`</span></span> <span class="token keyword">double</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'商品体积，单位：m^3 平米'</span><span class="token punctuation">,</span>
  
  <span class="token identifier"><span class="token punctuation">`</span>first_brokerage_price<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'一级分销的佣金，单位：分'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>second_brokerage_price<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'二级分销的佣金，单位：分'</span><span class="token punctuation">,</span>
  
  <span class="token identifier"><span class="token punctuation">`</span>sales_count<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'商品销量'</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">USING</span> <span class="token keyword">BTREE</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">30</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COLLATE</span><span class="token operator">=</span>utf8mb4_unicode_ci <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">'商品sku'</span><span class="token punctuation">;</span>
</code></pre></div><p>① <code>spu_id</code> 字段：商品 SPU 的编号，关联 <code>product_spu</code> 表的 <code>id</code> 字段。</p> <p>② <code>properties</code> 字段：商品属性，JSON 格式，例如：</p> <p><img src="/img/%E5%95%86%E5%9F%8E%E6%89%8B%E5%86%8C/SPU%E4%B8%8ESKU/SKU%E4%BF%A1%E6%81%AF.png" alt="SKU 信息"></p> <div class="language-JSON extra-class"><pre class="language-json"><code><span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    <span class="token property">"propertyId"</span><span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
    <span class="token property">"propertyName"</span><span class="token operator">:</span> <span class="token string">"颜色"</span><span class="token punctuation">,</span>
    <span class="token property">"valueId"</span><span class="token operator">:</span> <span class="token number">5</span><span class="token punctuation">,</span>
    <span class="token property">"valueName"</span><span class="token operator">:</span> <span class="token string">"黑色"</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    <span class="token property">"propertyId"</span><span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">,</span>
    <span class="token property">"propertyName"</span><span class="token operator">:</span> <span class="token string">"版本"</span><span class="token punctuation">,</span>
    <span class="token property">"valueId"</span><span class="token operator">:</span> <span class="token number">8</span><span class="token punctuation">,</span>
    <span class="token property">"valueName"</span><span class="token operator">:</span> <span class="token string">"CH510"</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p>很明显，<code>property_id</code> 对应 <code>product_property</code> 表的 <code>id</code> 字段，<code>value_id</code> 对应 <code>product_property_value</code> 表的 <code>id</code> 字段。</p> <p>那么为什么要冗余 <code>propertyName</code>、<code>valueName</code> 字段呢？主要是为了方便查询，不用再关联 <code>product_property</code>、<code>product_property_value</code> 表，嘿嘿~</p> <p>③ <code>price</code>、<code>market_price</code>、<code>cost_price</code>、<code>bar_code</code>、<code>weight</code>、<code>volume</code>、<code>pic_url</code> 字段，都是商品 SKU 的基本信息。</p> <p>④ <code>sales_count</code> 字段：商品销量，每次用户下单时，更新该字段。</p> <p>⑤ <code>first_brokerage_price</code>、<code>second_brokerage_price</code> 字段：一级分销、二级分销的佣金，可能未来会挪到【营销】模块下，目前不用特别关注。</p> <h3 id="_1-2-商品-spu"><a href="#_1-2-%E5%95%86%E5%93%81-spu" class="header-anchor">#</a> 1.2 商品 SPU</h3> <p><strong>SPU：Standard Product Unit</strong></p> <p>中文翻译为标准产品单位。SPU 从产品视角，是产品信息聚合的最小单位，是一组可复用、易检索的标准化信息的集合，该集合描述了一个产品的特性。通俗点讲，属性值、特性相同的商品就可以被称为一个 SPU。</p> <p>例如 iPhone 14 就是一个 SPU，iPhone 14 Plus 也是一个 SPU ，这个与商家无关，与颜色、款式、套餐等规格无关。</p> <p>商家出售某个 SPU，那么这就是一个商品。商品在 SPU 之上，增加了销售价格、运费等等信息。<strong>另外，一个商品可以包含多个 SKU</strong>。</p> <p>最终 SPU 表结构如下：</p> <blockquote><p>省略 creator/create_time/updater/update_time/deleted/tenant_id 等通用字段</p></blockquote> <div class="language-SQL extra-class"><pre class="language-sql"><code><span class="token keyword">CREATE</span> <span class="token keyword">TABLE</span> <span class="token identifier"><span class="token punctuation">`</span>product_spu<span class="token punctuation">`</span></span> <span class="token punctuation">(</span>
  <span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">AUTO_INCREMENT</span> <span class="token keyword">COMMENT</span> <span class="token string">'商品 SPU 编号，自增'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>name<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">128</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'商品名称'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>keyword<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'关键字'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>introduction<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'商品简介'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>description<span class="token punctuation">`</span></span> <span class="token keyword">text</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token keyword">COMMENT</span> <span class="token string">'商品详情'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>category_id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'商品分类编号'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>brand_id<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'商品品牌编号'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>pic_url<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">256</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'商品封面图'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>slider_pic_urls<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">2000</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token keyword">DEFAULT</span> <span class="token string">''</span> <span class="token keyword">COMMENT</span> <span class="token string">'商品轮播图地址\n 数组，以逗号分隔\n 最多上传15张'</span><span class="token punctuation">,</span>
  
  <span class="token identifier"><span class="token punctuation">`</span>status<span class="token punctuation">`</span></span> <span class="token keyword">tinyint</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'商品状态: 0 上架（开启） 1 下架（禁用）-1 回收'</span><span class="token punctuation">,</span>
  
  <span class="token identifier"><span class="token punctuation">`</span>spec_type<span class="token punctuation">`</span></span> <span class="token keyword">bit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'规格类型：0 单规格 1 多规格'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>price<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'-1'</span> <span class="token keyword">COMMENT</span> <span class="token string">'商品价格，单位使用：分'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>market_price<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'市场价，单位使用：分'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>cost_price<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'-1'</span> <span class="token keyword">COMMENT</span> <span class="token string">'成本价，单位： 分'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>stock<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'0'</span> <span class="token keyword">COMMENT</span> <span class="token string">'库存'</span><span class="token punctuation">,</span>
  
  <span class="token identifier"><span class="token punctuation">`</span>delivery_types<span class="token punctuation">`</span></span> <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">32</span><span class="token punctuation">)</span> <span class="token keyword">CHARACTER</span> <span class="token keyword">SET</span> utf8mb4 <span class="token keyword">COLLATE</span> utf8mb4_unicode_ci <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">''</span> <span class="token keyword">COMMENT</span> <span class="token string">'配送方式数组'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>delivery_template_id<span class="token punctuation">`</span></span> <span class="token keyword">bigint</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'物流配置模板编号'</span><span class="token punctuation">,</span>
  
  <span class="token identifier"><span class="token punctuation">`</span>give_integral<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'0'</span> <span class="token keyword">COMMENT</span> <span class="token string">'赠送积分'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>sales_count<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token keyword">DEFAULT</span> <span class="token string">'0'</span> <span class="token keyword">COMMENT</span> <span class="token string">'商品销量'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>virtual_sales_count<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token keyword">DEFAULT</span> <span class="token string">'0'</span> <span class="token keyword">COMMENT</span> <span class="token string">'虚拟销量'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>browse_count<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token keyword">DEFAULT</span> <span class="token string">'0'</span> <span class="token keyword">COMMENT</span> <span class="token string">'商品点击量'</span><span class="token punctuation">,</span>
  <span class="token identifier"><span class="token punctuation">`</span>sort<span class="token punctuation">`</span></span> <span class="token keyword">int</span> <span class="token operator">NOT</span> <span class="token boolean">NULL</span> <span class="token keyword">DEFAULT</span> <span class="token string">'0'</span> <span class="token keyword">COMMENT</span> <span class="token string">'排序字段'</span><span class="token punctuation">,</span>

  <span class="token identifier"><span class="token punctuation">`</span>sub_commission_type<span class="token punctuation">`</span></span> <span class="token keyword">bit</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">DEFAULT</span> <span class="token boolean">NULL</span> <span class="token keyword">COMMENT</span> <span class="token string">'分销类型'</span><span class="token punctuation">,</span>
  <span class="token keyword">PRIMARY</span> <span class="token keyword">KEY</span> <span class="token punctuation">(</span><span class="token identifier"><span class="token punctuation">`</span>id<span class="token punctuation">`</span></span><span class="token punctuation">)</span> <span class="token keyword">USING</span> <span class="token keyword">BTREE</span>
<span class="token punctuation">)</span> <span class="token keyword">ENGINE</span><span class="token operator">=</span><span class="token keyword">InnoDB</span> <span class="token keyword">AUTO_INCREMENT</span><span class="token operator">=</span><span class="token number">640</span> <span class="token keyword">DEFAULT</span> <span class="token keyword">CHARSET</span><span class="token operator">=</span>utf8mb4 <span class="token keyword">COLLATE</span><span class="token operator">=</span>utf8mb4_unicode_ci <span class="token keyword">COMMENT</span><span class="token operator">=</span><span class="token string">'商品spu'</span><span class="token punctuation">;</span>
</code></pre></div><p>① 【基础设置】<code>name</code>、<code>keyword</code>、<code>introduction</code>、<code>description</code>、<code>category_id</code>、<code>brand_id</code>、<code>pic_url</code>、<code>slider_pic_urls</code> 字段：商品 SPU 的基本信息。</p> <p><img src="/img/%E5%95%86%E5%9F%8E%E6%89%8B%E5%86%8C/SPU%E4%B8%8ESKU/SPU%E4%BF%A1%E6%81%AF-%E5%9F%BA%E7%A1%80%E8%AE%BE%E7%BD%AE.png" alt="基础设置"></p> <p>② <code>status</code> 字段：商品状态，1 上架（开启）、0 下架（禁用）、-1 回收，用户在 uni-app 看到的商品，只有 <code>status</code> 为 1 的商品。</p> <p>③ 【库存价格】<code>spec_type</code> 字段：规格类型，<code>false</code> 单规格、<code>true</code> 多规格。要注意，即使是单规格，也会创建一个 SKU，这个 SKU 的 <code>properties</code> 字段为“默认”数组 <code>[{"propertyId":0,"propertyName":"默认","valueId":0,"valueName":"默认"}]</code>。</p> <p><code>price</code>、<code>market_price</code>、<code>cost_price</code> 字段：取对应 SKU 的最小值。<code>stock</code> 字段：取对应 SKU 库存的累加值。</p> <p><img src="/img/%E5%95%86%E5%9F%8E%E6%89%8B%E5%86%8C/SPU%E4%B8%8ESKU/SKU%E4%BF%A1%E6%81%AF.png" alt="库存价格"></p> <p>④ 【物流设置】<code>delivery_types</code> 字段：配送方式数组，目前有 1 快递发货、2 门店自提。</p> <p><code>delivery_template_id</code> 字段：物流配置模板编号，仅当 <code>delivery_types</code> 为 1 时，才会有值。</p> <p><img src="/img/%E5%95%86%E5%9F%8E%E6%89%8B%E5%86%8C/SPU%E4%B8%8ESKU/SPU%E4%BF%A1%E6%81%AF-%E7%89%A9%E6%B5%81%E8%AE%BE%E7%BD%AE.png" alt="物流设置"></p> <p>⑤ 【其它设置】<code>give_integral</code> 字段：赠送积分，用户购买该商品，赠送的积分。</p> <p><code>sales_count</code> 字段：商品销量，每次用户下单时，更新该字段。<code>virtual_sales_count</code> 字段：虚拟销量，最终展示给用户的销量是 <code>sales_count</code> + <code>virtual_sales_count</code> 。</p> <p><code>browse_count</code> 字段：商品点击量，每次用户点击商品时，更新该字段。另外，也会往 <code>product_browse_history</code> 插入一条浏览记录。</p> <p><img src="/img/%E5%95%86%E5%9F%8E%E6%89%8B%E5%86%8C/SPU%E4%B8%8ESKU/SPU%E4%BF%A1%E6%81%AF-%E5%85%B6%E5%AE%83%E8%AE%BE%E7%BD%AE.png" alt="其它设置"></p> <h2 id="_2-管理后台"><a href="#_2-%E7%AE%A1%E7%90%86%E5%90%8E%E5%8F%B0" class="header-anchor">#</a> 2. 管理后台</h2> <h3 id="_2-1-商品列表"><a href="#_2-1-%E5%95%86%E5%93%81%E5%88%97%E8%A1%A8" class="header-anchor">#</a> 2.1 商品列表</h3> <p>对应 [商城系统 -&gt; 商品中心 -&gt; 商品列表] 菜单，对应 <code>yudao-ui-admin-vue3</code> 项目的 <code>@/views/mall/product/spu</code> 目录。</p> <p><img src="/img/%E5%95%86%E5%9F%8E%E6%89%8B%E5%86%8C/SPU%E4%B8%8ESKU/%E7%AE%A1%E7%90%86%E5%90%8E%E5%8F%B0-%E5%95%86%E5%93%81%E5%88%97%E8%A1%A8.png" alt="商品列表"></p> <h3 id="_2-2-商品发布"><a href="#_2-2-%E5%95%86%E5%93%81%E5%8F%91%E5%B8%83" class="header-anchor">#</a> 2.2 商品发布</h3> <p>商品的新增、修改、详情界面，都对应 <code>yudao-ui-admin-vue3</code> 项目的 <code>@/views/mall/product/spu/form</code> 目录。</p> <p><img src="/img/%E5%95%86%E5%9F%8E%E6%89%8B%E5%86%8C/SPU%E4%B8%8ESKU/%E7%AE%A1%E7%90%86%E5%90%8E%E5%8F%B0-%E5%95%86%E5%93%81%E5%8F%91%E5%B8%83.png" alt="商品发布"></p> <p>考虑到前端代码的维护性，每个 Tab 对应一个组件，这样修改某个 Tab 的代码，不会影响到其它 Tab 的代码。如下图所示：</p> <p><img src="/img/%E5%95%86%E5%9F%8E%E6%89%8B%E5%86%8C/SPU%E4%B8%8ESKU/%E7%AE%A1%E7%90%86%E5%90%8E%E5%8F%B0-%E5%95%86%E5%93%81%E5%8F%91%E5%B8%83-%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81.png" alt="前端代码"></p> <ul><li>基础设置：<code>views/mall/product/spu/form/InfoForm.vue</code></li> <li>库存价格：<code>views/mall/product/spu/form/SkuForm.vue</code></li> <li>物流设置：<code>views/mall/product/spu/form/DeliveryForm.vue</code></li> <li>商品描述：<code>views/mall/product/spu/form/DescriptionForm.vue</code></li> <li>其它设置：<code>views/mall/product/spu/form/OtherForm.vue</code></li></ul> <h2 id="_3-移动端"><a href="#_3-%E7%A7%BB%E5%8A%A8%E7%AB%AF" class="header-anchor">#</a> 3. 移动端</h2> <p>商品在 uni-app 的代码，主要在 <code>yudao-ui-uniapp</code> 项目的 <code>@/pages/goods</code> 目录。如下图所示：</p> <p><img src="/img/%E5%95%86%E5%9F%8E%E6%89%8B%E5%86%8C/SPU%E4%B8%8ESKU/%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81.png" alt="前端代码"></p> <h3 id="_3-1-商品列表"><a href="#_3-1-%E5%95%86%E5%93%81%E5%88%97%E8%A1%A8" class="header-anchor">#</a> 3.1 商品列表</h3> <p>商品列表，对应 <code>@/pages/goods/list.vue</code> 文件。界面效果如下图所示：</p> <p><img src="/img/%E5%95%86%E5%9F%8E%E6%89%8B%E5%86%8C/SPU%E4%B8%8ESKU/%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%95%86%E5%93%81%E5%88%97%E8%A1%A8.png" alt="商品列表"></p> <h3 id="_3-2-商品详情"><a href="#_3-2-%E5%95%86%E5%93%81%E8%AF%A6%E6%83%85" class="header-anchor">#</a> 3.2 商品详情</h3> <p>商品详情，对应 <code>@/pages/goods/index.vue</code> 文件。界面效果如下图所示：</p> <p><img src="/img/%E5%95%86%E5%9F%8E%E6%89%8B%E5%86%8C/SPU%E4%B8%8ESKU/%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%95%86%E5%93%81%E8%AF%A6%E6%83%85.png" alt="商品详情"></p> <p>考虑到商品详情界面的复杂性，所以将其拆分成多个组件，如下图所示：</p> <p><img src="/img/%E5%95%86%E5%9F%8E%E6%89%8B%E5%86%8C/SPU%E4%B8%8ESKU/%E7%A7%BB%E5%8A%A8%E7%AB%AF-%E5%95%86%E5%93%81%E8%AF%A6%E6%83%85-%E5%89%8D%E7%AB%AF%E4%BB%A3%E7%A0%81.png" alt="商品详情"></p> <p>另外，如果你想看商品 SKU 选择的代码，可以看 <code>/sheep/components/s-select-sku/s-select-sku.vue</code> 文件。</p> <p>注意，拼团、秒杀商品的界面展示不同，所以单独分别对应了 <code>@/pages/goods/groupon.vue</code>、<code>@/pages/goods/seckill.vue</code> 文件。</p> <h2 id="_4-社区贡献的商品相关"><a href="#_4-%E7%A4%BE%E5%8C%BA%E8%B4%A1%E7%8C%AE%E7%9A%84%E5%95%86%E5%93%81%E7%9B%B8%E5%85%B3" class="header-anchor">#</a> 4. 社区贡献的商品相关</h2> <ul><li>新增基于 SPU id 复制商品的功能：<a href="https://github.com/YunaiV/ruoyi-vue-pro/pull/517" target="_blank" rel="noopener noreferrer">#517<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>、<a href="https://github.com/yudaocode/yudao-ui-admin-vue3/pull/49" target="_blank" rel="noopener noreferrer">#49<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div>
    </div>
</body>
</html>